(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"05Yv":function(t,s,i){"use strict";i.r(s),i.d(s,"AppsModule",(function(){return S}));var e=i("mrSG");class n{constructor(t){null!=t.role&&(this.role=t.role),null!=t.email&&(this.email=t.email)}}class o{constructor(t){this.role=0,this.users=[],this.scopes=[],this.domains=[],null!=t&&(Array.isArray(t.users)&&(this.users=t.users.map(t=>new n(t))),Array.isArray(t.scopes)&&(this.scopes=t.scopes),Array.isArray(t.domains)&&(this.domains=t.domains),null!=t.url&&(this.url=t.url),null!=t.role&&(this.role=t.role),null!=t.icon&&(this.icon=t.icon),null!=t.name&&(this.name=t.name),null!=t.appId&&(this.appId=t.appId),null!=t.secret&&(this.secret=t.secret))}}var a=i("+0xr"),c=i("fXoL"),r=i("L7HW"),l=i("tyNb"),u=i("BhS5"),b=i("xyCQ"),h=i("znSr"),d=i("MutI"),m=i("ofXK"),p=i("bTqV"),f=i("NFeN"),g=i("FKr1");function w(t,s){1&t&&(c.Rb(0,"th",10),c.zc(1," Icon "),c.Qb())}function y(t,s){if(1&t&&(c.Rb(0,"td",11),c.Mb(1,"img",12),c.Qb()),2&t){const t=s.$implicit;c.Ab(1),c.jc("src",t.icon,c.rc)("alt",t.name)}}function v(t,s){1&t&&(c.Rb(0,"th",10),c.zc(1," Name "),c.Qb())}function R(t,s){if(1&t&&(c.Rb(0,"td",11),c.zc(1),c.Qb()),2&t){const t=s.$implicit;c.Ab(1),c.Bc(" ",t.name," ")}}function O(t,s){1&t&&c.Mb(0,"th",10)}function C(t,s){1&t&&(c.Rb(0,"td",11),c.Rb(1,"button",13),c.Rb(2,"mat-icon"),c.zc(3," more_vert "),c.Qb(),c.Qb(),c.Qb())}function k(t,s){1&t&&c.Mb(0,"tr",14)}function x(t,s){1&t&&c.Mb(0,"tr",15)}function A(t,s){if(1&t){const t=c.Sb();c.Rb(0,"mat-list-item",16),c.Zb("click",(function(){c.qc(t);const i=s.$implicit;return c.dc().options(i)})),c.Mb(1,"img",17),c.Rb(2,"mat-label"),c.Rb(3,"h3"),c.zc(4),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=s.$implicit;c.Ab(1),c.jc("src",t.icon,c.rc)("alt",t.name),c.Ab(3),c.Bc(" ",t.name," ")}}let D=(()=>{class t{constructor(t,s,i,e){this.config=t,this.router=s,this.buttons=i,this.service=e,this.apps=new a.k,this.columns=["icon","name","options"],this.subscriptions={}}list(){return Object(e.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.list({filter:["icon","role","name","appId"]});this.apps.data=t.ok?t.result.map(t=>new o(t)):[],this.loading=!1}))}options(t){return Object(e.a)(this,void 0,void 0,(function*(){}))}ngOnInit(){this.buttons.show("add"),this.buttons.hide("close"),this.buttons.show("filter"),this.buttons.show("search"),this.subscriptions.add=this.buttons.add.click.subscribe(t=>{this.router.navigate(["/apps","editor"],{queryParams:{mode:"add"}})}),this.subscriptions.loaded=this.config.loaded.subscribe(t=>{t&&this.list()})}ngOnDestroy(){this.subscriptions.add.unsubscribe(),this.subscriptions.loaded.unsubscribe()}}return t.\u0275fac=function(s){return new(s||t)(c.Lb(r.a),c.Lb(l.b),c.Lb(u.a),c.Lb(b.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["apps-page"]],decls:14,vars:5,consts:[["mat-table","","fxShow","","fxHide.xs","true",3,"dataSource"],["matColumnDef","icon"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["fxHide","","fxShow.xs","true"],["lines","full","matRipple","",3,"click",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],["width","40","height","40","draggable","false",3,"src","alt"],["mat-icon-button",""],["mat-header-row",""],["mat-row",""],["lines","full","matRipple","",3,"click"],["slot","start","width","40","height","40","draggable","false",3,"src","alt"]],template:function(t,s){1&t&&(c.Rb(0,"table",0),c.Pb(1,1),c.yc(2,w,2,0,"th",2),c.yc(3,y,2,2,"td",3),c.Ob(),c.Pb(4,4),c.yc(5,v,2,0,"th",2),c.yc(6,R,2,1,"td",3),c.Ob(),c.Pb(7,5),c.yc(8,O,1,0,"th",2),c.yc(9,C,4,0,"td",3),c.Ob(),c.yc(10,k,1,0,"tr",6),c.yc(11,x,1,0,"tr",7),c.Qb(),c.Rb(12,"mat-list",8),c.yc(13,A,5,3,"mat-list-item",9),c.Qb()),2&t&&(c.jc("dataSource",s.apps),c.Ab(10),c.jc("matHeaderRowDef",s.columns)("matHeaderRowDefSticky",!0),c.Ab(1),c.jc("matRowDefColumns",s.columns),c.Ab(2),c.jc("ngForOf",s.apps.data))},directives:[a.j,h.a,a.c,a.e,a.b,a.g,a.i,d.a,m.k,a.d,a.a,p.a,f.a,a.f,a.h,d.b,g.m],styles:[".mat-column-icon[_ngcontent-%COMP%]{width:60px}.mat-column-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:4px}.mat-column-options[_ngcontent-%COMP%]{width:40px;padding-right:16px!important}mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row}"]}),t})();var Q=i("9ZKQ");let I=(()=>{class t{constructor(t,s,i,e,n,o){this.toast=t,this.route=s,this.config=i,this.router=e,this.buttons=n,this.service=o,this.subscriptions={}}get(){return Object(e.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.get({appId:this.appId});t.ok?new o(t.result):this.toast.show(t.error.message),this.loading=!1}))}ngOnInit(){this.buttons.hide("add"),this.buttons.show("close"),this.buttons.hide("filter"),this.buttons.hide("search"),this.subscriptions.close=this.buttons.close.click.subscribe(t=>{this.router.navigate(["/apps"])}),this.subscriptions.loaded=this.config.loaded.subscribe(t=>{if(t){const t=this.route.snapshot.queryParams;this.mode=t.mode,this.appId=t.appId,"add"!=this.mode&&this.get()}})}ngOnDestroy(){this.subscriptions.close.unsubscribe(),this.subscriptions.loaded.unsubscribe()}}return t.\u0275fac=function(s){return new(s||t)(c.Lb(Q.a),c.Lb(l.a),c.Lb(r.a),c.Lb(l.b),c.Lb(u.a),c.Lb(b.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["apps-editor-page"]],decls:0,vars:0,template:function(t,s){},styles:[""]}),t})();var M=i("wZkO"),L=i("YUcS"),j=i("H0Zp");const P=[{path:"",component:D},{path:"editor",component:I}];let S=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(s){return new(s||t)},imports:[[m.c,M.a,f.b,d.c,a.l,g.n,p.b,j.a,L.a,l.f.forChild(P)]]}),t})()}}]);