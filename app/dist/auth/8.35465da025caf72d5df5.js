(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"4+IK":function(t,e,r){"use strict";r.r(e),r.d(e,"AccountModule",(function(){return T}));var o=r("mrSG"),n=r("3Pt+"),s=r("fXoL"),i=r("9ZKQ"),a=r("BhS5"),c=r("IRyT"),u=r("4jEk"),m=r("in+p"),b=r("FKr1"),l=r("NFeN"),d=r("kmnG"),f=r("qFsG"),p=r("ofXK"),h=r("bTqV"),g=r("tyNb"),w=r("Xa2L");function v(t,e){if(1&t&&(s.Rb(0,"mat-error"),s.Ac(1),s.Qb()),2&t){const t=s.dc();s.Ab(1),s.Cc(" ",t.errors.name.first," ")}}function y(t,e){if(1&t&&(s.Rb(0,"mat-error"),s.Ac(1),s.Qb()),2&t){const t=s.dc();s.Ab(1),s.Cc(" ",t.errors.name.last," ")}}function A(t,e){if(1&t&&(s.Rb(0,"mat-error"),s.Ac(1),s.Qb()),2&t){const t=s.dc();s.Ab(1),s.Cc(" ",t.errors.username," ")}}function R(t,e){1&t&&s.Mb(0,"mat-progress-spinner",12)}let C=(()=>{class t{constructor(t,e,r){this.toast=t,this.buttons=e,this.service=r,this.form=new n.f({name:new n.f({last:new n.c(null,[n.u.required]),first:new n.c(null,[n.u.required])}),picture:new n.c(null,[n.u.required]),username:new n.c(null,[n.u.required])}),this.errors={name:{last:"",first:""},picture:"",username:""},this.subscriptions={}}submit(){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.update({name:{last:this.form.value.name.last,first:this.form.value.name.first},picture:this.form.value.picture,username:this.form.value.username});this.loading=!1,this.toast.show(t.ok?"Account was updated!":"Issue updating account!")}))}upload(t){return Object(o.a)(this,void 0,void 0,(function*(){this.form.controls.picture.setValue(t)}))}ngOnInit(){this.buttons.hide("add"),this.buttons.hide("close"),this.buttons.hide("filter"),this.buttons.hide("search"),this.subscriptions.user=this.service.user.subscribe(t=>{void 0!==t&&null!=t&&(this.form.controls.picture.setValue(t.picture),this.form.controls.username.setValue(t.username),void 0!==t.name&&null!=t.name&&(this.form.controls.name.controls.last.setValue(t.name.last),this.form.controls.name.controls.first.setValue(t.name.first)))})}ngOnDestroy(){this.subscriptions.user.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(i.a),s.Lb(a.a),s.Lb(c.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["account-page"]],decls:28,vars:9,consts:[[3,"formGroup","ngSubmit"],["upload","","upload-accept","image/*","matRipple","",3,"upload-src","upload-change"],["formGroupName","name"],["appearance","outline"],["matInput","","type","text","name","first name","placeholder","first name","formControlName","first","required",""],[4,"ngIf"],["matInput","","type","text","name","last name","placeholder","last name","formControlName","last","required",""],["matInput","","type","text","name","username","placeholder","username","formControlName","username","required",""],["type","submit","mat-flat-button","","color","primary"],["mode","indeterminate","diameter","30",4,"ngIf"],["type","button","mat-stroked-button","","color","primary","margin-top","","routerLink","change-password"],["type","button","mat-flat-button","","color","warn","margin-top","","routerLink","remove-account"],["mode","indeterminate","diameter","30"]],template:function(t,e){1&t&&(s.Rb(0,"mat-content"),s.Rb(1,"form",0),s.Zb("ngSubmit",(function(){return!e.form.invalid&&e.submit()})),s.Rb(2,"div",1),s.Zb("upload-change",(function(t){return e.upload(t)})),s.Rb(3,"mat-icon"),s.Ac(4,"publish"),s.Qb(),s.Qb(),s.Rb(5,"section",2),s.Rb(6,"mat-form-field",3),s.Rb(7,"mat-label"),s.Ac(8," First Name "),s.Qb(),s.Mb(9,"input",4),s.yc(10,v,2,1,"mat-error",5),s.Qb(),s.Rb(11,"mat-form-field",3),s.Rb(12,"mat-label"),s.Ac(13," Last Name "),s.Qb(),s.Mb(14,"input",6),s.yc(15,y,2,1,"mat-error",5),s.Qb(),s.Qb(),s.Rb(16,"mat-form-field",3),s.Rb(17,"mat-label"),s.Ac(18," Username "),s.Qb(),s.Mb(19,"input",7),s.yc(20,A,2,1,"mat-error",5),s.Qb(),s.Rb(21,"button",8),s.Ac(22),s.yc(23,R,1,0,"mat-progress-spinner",9),s.Qb(),s.Rb(24,"button",10),s.Ac(25," change password "),s.Qb(),s.Rb(26,"button",11),s.Ac(27," remove account "),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.Ab(1),s.jc("formGroup",e.form),s.Ab(1),s.Db("required",!e.form.value.picture),s.jc("upload-src",e.form.value.picture),s.Ab(8),s.jc("ngIf",e.errors.name.first),s.Ab(5),s.jc("ngIf",e.errors.name.last),s.Ab(5),s.jc("ngIf",e.errors.username),s.Ab(2),s.Cc(" ",e.loading?"":"update"," "),s.Ab(1),s.jc("ngIf",e.loading))},directives:[u.a,n.v,n.p,n.g,m.a,b.o,l.a,n.h,d.c,d.f,f.a,n.b,n.o,n.e,n.t,p.l,h.a,g.c,d.b,w.a],styles:["[upload][_ngcontent-%COMP%]{width:100px;margin:auto;height:100px;border:2px solid transparent;display:flex;align-items:center;border-radius:100%;justify-content:center;background-color:#eee}[upload].required[_ngcontent-%COMP%]{border-color:red}mat-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:400px;margin-top:20px}"]}),t})();var Q=r("5Yg0"),I=(r("u47x"),r("8LU1"),r("FtGj"),r("XNiG"),r("quSY"),r("VRyK"),r("LRne"),r("7Hc7"),r("JX91"),r("eIep"),r("IzEk"),r("pLZG"),r("1G5W"),r("3E0/"),r("R0Ic"),r("+rOU"),r("rDax")),x=(r("nLfN"),r("vxfF"));r("cH1L");const M={provide:new s.r("mat-menu-scroll-strategy"),deps:[I.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let O=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},providers:[M],imports:[b.h]}),t})(),j=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},providers:[M],imports:[[p.c,b.h,b.p,I.f,O],x.b,b.h,O]}),t})();var L=r("d3UM"),P=r("/t3+"),q=r("H0Zp"),_=r("dWDE");function N(t,e){if(1&t&&(s.Rb(0,"mat-error"),s.Ac(1),s.Qb()),2&t){const t=s.dc();s.Ab(1),s.Cc(" ",t.errors.password," ")}}function k(t,e){1&t&&s.Mb(0,"mat-progress-spinner",7)}let G=(()=>{class t{constructor(t,e,r,o,s){this.toast=t,this.buttons=e,this.router=r,this.service=o,this.formerror=s,this.form=new n.f({password:new n.c("",[n.u.required])}),this.errors={password:""},this.subscriptions={}}submit(){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=!0,this.form.disable();const t=yield this.service.removeaccount({password:this.form.value.password});this.form.enable(),this.loading=!1,t.ok?(this.service.signout(),this.toast.show("Account was removed!")):this.toast.show("There was an issue removing account!")}))}ngOnInit(){this.buttons.hide("add"),this.buttons.show("close"),this.buttons.hide("filter"),this.buttons.hide("search"),this.subscriptions.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.subscriptions.close=this.buttons.close.click.subscribe(t=>{this.router.navigate(["/account"])})}ngOnDestroy(){this.subscriptions.form.unsubscribe(),this.subscriptions.close.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(i.a),s.Lb(a.a),s.Lb(g.b),s.Lb(c.a),s.Lb(_.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["remove-account-page"]],decls:14,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"notice"],["appearance","outline"],["matInput","","type","password","name","confirm password","placeholder","confirm password","formControlName","password","required",""],[4,"ngIf"],["type","submit","mat-flat-button","","color","warn"],["mode","indeterminate","diameter","30",4,"ngIf"],["mode","indeterminate","diameter","30"]],template:function(t,e){1&t&&(s.Rb(0,"mat-content"),s.Rb(1,"h1"),s.Ac(2," Remove Account "),s.Qb(),s.Rb(3,"form",0),s.Zb("ngSubmit",(function(){return!e.loading&&!e.form.invalid&&e.submit()})),s.Rb(4,"p",1),s.Ac(5," The removal of your account will mean you can no longer sign in to the platform. This does not remove the assets you have created in the time you have had an account with us and if you wish to signup again your assets will be available to you once again! "),s.Qb(),s.Rb(6,"mat-form-field",2),s.Rb(7,"mat-label"),s.Ac(8," Confirm Password "),s.Qb(),s.Mb(9,"input",3),s.yc(10,N,2,1,"mat-error",4),s.Qb(),s.Rb(11,"button",5),s.Ac(12),s.yc(13,k,1,0,"mat-progress-spinner",6),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.Ab(3),s.jc("formGroup",e.form),s.Ab(7),s.jc("ngIf",e.errors.password),s.Ab(2),s.Cc(" ",e.loading?"":"confirm & remove"," "),s.Ab(1),s.jc("ngIf",e.loading))},directives:[u.a,n.v,n.p,n.g,d.c,d.f,f.a,n.b,n.o,n.e,n.t,p.l,h.a,d.b,w.a],styles:["mat-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}mat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;text-align:justify;line-height:12px;margin-bottom:15px}mat-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:20px}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:400px;margin-top:20px}"]}),t})();var F=r("WF9o");function S(t,e){if(1&t&&(s.Rb(0,"mat-error"),s.Ac(1),s.Qb()),2&t){const t=s.dc();s.Ab(1),s.Cc(" ",t.errors.old," ")}}function J(t,e){if(1&t&&(s.Rb(0,"mat-error"),s.Ac(1),s.Qb()),2&t){const t=s.dc();s.Ab(1),s.Cc(" ",t.errors.new," ")}}function Z(t,e){if(1&t&&(s.Rb(0,"mat-error"),s.Ac(1),s.Qb()),2&t){const t=s.dc();s.Ab(1),s.Dc(" ",t.errors.confirm," ",t.errors.confirm&&t.form.value.new!=t.form.value.confirm?" & ":""," ",t.form.value.new!=t.form.value.confirm?"Passwords do not match":""," ")}}function D(t,e){1&t&&s.Mb(0,"mat-progress-spinner",8)}let V=(()=>{class t{constructor(t,e,r,o,s,i){this.toast=t,this.buttons=e,this.router=r,this.service=o,this.formerror=s,this.localstorage=i,this.form=new n.f({old:new n.c("",[n.u.required]),new:new n.c("",[n.u.required]),confirm:new n.c("",[n.u.required])}),this.errors={old:"",new:"",confirm:""},this.subscriptions={}}submit(){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.changepassword({old:this.form.value.old,new:this.form.value.new,email:this.localstorage.get("email"),confirm:this.form.value.confirm});this.loading=!1,t.ok?(this.router.navigate(["/account"]),this.toast.show("password was changed!")):this.toast.show("there was an issue changing password!")}))}ngOnInit(){this.buttons.hide("add"),this.buttons.show("close"),this.buttons.hide("filter"),this.buttons.hide("search"),this.subscriptions.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.subscriptions.close=this.buttons.close.click.subscribe(t=>{this.router.navigate(["/account"])})}ngOnDestroy(){this.subscriptions.form.unsubscribe(),this.subscriptions.close.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(i.a),s.Lb(a.a),s.Lb(g.b),s.Lb(c.a),s.Lb(_.a),s.Lb(F.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["change-password-page"]],decls:22,vars:6,consts:[[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","password","name","old password","placeholder","old password","formControlName","old","required",""],[4,"ngIf"],["matInput","","type","password","name","new password","placeholder","new password","formControlName","new","required",""],["matInput","","type","password","name","confirm password","placeholder","confirm password","formControlName","confirm","required",""],["type","submit","mat-flat-button","","color","primary"],["mode","indeterminate","diameter","30",4,"ngIf"],["mode","indeterminate","diameter","30"]],template:function(t,e){1&t&&(s.Rb(0,"mat-content"),s.Rb(1,"h1"),s.Ac(2," Change Password "),s.Qb(),s.Rb(3,"form",0),s.Zb("ngSubmit",(function(){return!e.loading&&!e.form.invalid&&e.form.value.new==e.form.value.confirm&&e.submit()})),s.Rb(4,"mat-form-field",1),s.Rb(5,"mat-label"),s.Ac(6," Old Password "),s.Qb(),s.Mb(7,"input",2),s.yc(8,S,2,1,"mat-error",3),s.Qb(),s.Rb(9,"mat-form-field",1),s.Rb(10,"mat-label"),s.Ac(11," New Password "),s.Qb(),s.Mb(12,"input",4),s.yc(13,J,2,1,"mat-error",3),s.Qb(),s.Rb(14,"mat-form-field",1),s.Rb(15,"mat-label"),s.Ac(16," Confirm Password "),s.Qb(),s.Mb(17,"input",5),s.yc(18,Z,2,3,"mat-error",3),s.Qb(),s.Rb(19,"button",6),s.Ac(20),s.yc(21,D,1,0,"mat-progress-spinner",7),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.Ab(3),s.jc("formGroup",e.form),s.Ab(5),s.jc("ngIf",e.errors.old),s.Ab(5),s.jc("ngIf",e.errors.new),s.Ab(5),s.jc("ngIf",e.errors.confirm||e.form.value.new!=e.form.value.confirm),s.Ab(2),s.Cc(" ",e.loading?"":"submit"," "),s.Ab(1),s.jc("ngIf",e.loading))},directives:[u.a,n.v,n.p,n.g,d.c,d.f,f.a,n.b,n.o,n.e,n.t,p.l,h.a,d.b,w.a],styles:["mat-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}mat-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:20px}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:400px;margin-top:20px}"]}),t})();r("R1ws"),r("xgIS");let X=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[p.c,b.h],b.h]}),t})();const K=[{path:"",component:C},{path:"remove-account",component:G},{path:"change-password",component:V}];let T=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[n.i,p.c,Q.a,l.b,j,f.b,L.b,h.b,b.p,q.a,P.b,d.e,n.s,X,w.b,g.f.forChild(K)]]}),t})()},H0Zp:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var o=r("ofXK"),n=r("fXoL");let s=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()}}]);