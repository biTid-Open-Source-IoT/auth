"use strict";(self.webpackChunkauth=self.webpackChunkauth||[]).push([[28],{2028:(Q,d,r)=>{r.r(d),r.d(d,{VerifyAccountPageModule:()=>V});var f=r(5861),o=r(3075),i=r(2340),t=r(5e3),b=r(649),m=r(6696),Z=r(8939),x=r(4602),A=r(2109),C=r(8863),g=r(7093),p=r(9224),h=r(9808),v=r(5899),u=r(7322),y=r(8833),P=r(7423);function O(a,s){1&a&&t._UZ(0,"mat-progress-bar",14)}function M(a,s){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.email," ")}}function T(a,s){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.code," ")}}let N=(()=>{class a{constructor(e,n,l,c,J,Y){this.toast=e,this.route=n,this.config=l,this.router=c,this.service=J,this.formerror=Y,this.app={icon:i.N.icon,name:i.N.name,privacyPolicy:i.N.privacyPolicy,termsAndConditions:i.N.termsAndConditions},this.form=new o.cw({code:new o.NI(null,[o.kI.required,o.kI.min(1e5),o.kI.max(999999),o.kI.minLength(6),o.kI.maxLength(6)]),email:new o.NI(null,[o.kI.email,o.kI.required])}),this.errors={code:"",email:""},this.loading=!1,this.observers={}}submit(){var e=this;return(0,f.Z)(function*(){e.loading=!0;const n=yield e.service.verify({code:e.form.value.code,email:e.form.value.email});n.ok?e.router.navigate(["/signin"],{queryParams:{email:e.form.value.email},replaceUrl:!0,queryParamsHandling:"merge"}):e.toast.show(n.error.message),e.loading=!1})()}ngOnInit(){var e=this;this.observers.form=this.form.valueChanges.subscribe(n=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.observers.loaded=this.config.loaded.subscribe(function(){var n=(0,f.Z)(function*(l){if(l){e.app.icon=i.N.icon,e.app.name=i.N.name,e.app.privacyPolicy=i.N.privacyPolicy,e.app.termsAndConditions=i.N.termsAndConditions;const c=e.route.snapshot.queryParams;void 0!==c.code&&null!=c.code&&e.form.controls.code.setValue(c.code),void 0!==c.email&&null!=c.email&&e.form.controls.email.setValue(c.email),e.form.invalid||e.submit()}});return function(l){return n.apply(this,arguments)}}())}ngOnDestroy(){var e,n;null===(e=this.observers.form)||void 0===e||e.unsubscribe(),null===(n=this.observers.loaded)||void 0===n||n.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(b.k),t.Y36(m.gz),t.Y36(Z.E),t.Y36(m.F0),t.Y36(x.B),t.Y36(A.J))},a.\u0275cmp=t.Xpm({type:a,selectors:[["verify-account-page"]],decls:31,vars:8,consts:[["fxLayout","column","fxLayoutAlign","center center"],["mode","indeterminate",4,"ngIf"],[1,"icon"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","email","name","email","placeholder","email","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","number","min","100000","max","999999","name","verification code","minlength","6","maxlength","6","placeholder","verification code","formControlName","code","required",""],[1,"button-footer"],["type","button","mat-stroked-button","","color","primary","routerLink","/signin"],["type","submit","mat-flat-button","","color","primary"],[1,"row-below-card"],["href","https://www.bitid.co.za","target","_blank"],["target","_blank",3,"href"],["mode","indeterminate"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-content",0),t.TgZ(1,"mat-card"),t.YNc(2,O,1,0,"mat-progress-bar",1),t._UZ(3,"div",2),t.TgZ(4,"h1"),t._uU(5," Verify Account "),t.qZA(),t.TgZ(6,"p"),t._uU(7," You will receive an email with your veification code. You must enter the code below or click the link in the email to verify your account! "),t.qZA(),t.TgZ(8,"form",3),t.NdJ("ngSubmit",function(){return!n.loading&&!n.form.invalid&&n.submit()}),t.TgZ(9,"mat-form-field",4),t.TgZ(10,"mat-label"),t._uU(11," Email "),t.qZA(),t._UZ(12,"input",5),t.YNc(13,M,2,1,"mat-error",6),t.qZA(),t.TgZ(14,"mat-form-field",4),t.TgZ(15,"mat-label"),t._uU(16," Verification Code "),t.qZA(),t._UZ(17,"input",7),t.YNc(18,T,2,1,"mat-error",6),t.qZA(),t.TgZ(19,"div",8),t.TgZ(20,"button",9),t._uU(21," Sign In "),t.qZA(),t.TgZ(22,"button",10),t._uU(23," Next "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",11),t.TgZ(25,"a",12),t._uU(26," Powered by biTid "),t.qZA(),t.TgZ(27,"a",13),t._uU(28," Privacy Policy "),t.qZA(),t.TgZ(29,"a",13),t._uU(30," Terms & Conditions "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(1),t.Udp("background-image","url("+n.app.icon+")"),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(5),t.Q6J("ngIf",n.errors.email),t.xp6(5),t.Q6J("ngIf",n.errors.code),t.xp6(9),t.Q6J("href",n.app.privacyPolicy,t.LSH),t.xp6(2),t.Q6J("href",n.app.termsAndConditions,t.LSH))},directives:[C.s,g.xw,g.Wh,p.a8,h.O5,v.pW,o._Y,o.JL,o.sg,u.KE,u.hX,y.Nt,o.Fj,o.JJ,o.u,o.Q7,u.TO,o.qQ,o.Fd,o.wV,o.wO,o.nD,P.lW,m.rH],styles:["mat-card[_ngcontent-%COMP%]{width:calc(100% - 48px);max-width:400px}mat-card[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{top:0;left:0;right:0;position:absolute;border-top-left-radius:4px;border-top-right-radius:4px}mat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:8px auto;display:block;background-size:cover;background-repeat:no-repeat;background-position:center center}mat-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px!important;text-align:center}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}mat-card[_ngcontent-%COMP%]   .button-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row}mat-card[_ngcontent-%COMP%]   .button-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:calc(50% - 8px)}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]{top:calc(100% + 8px);left:0;right:0;height:10px;display:flex;padding:0 16px;position:absolute;flex-direction:row;justify-content:space-between}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#9e9e9e;font-size:12px;font-weight:500;text-decoration:none}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3f51b5;text-decoration:underline}"]}),a})();var w=r(2155),I=r(4274);const U=[{path:"",component:N}];let V=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[o.u5,h.ez,p.QW,y.c,P.ot,I.X,w.o9,u.lN,o.UX,v.Cv,m.Bz.forChild(U)]]}),a})()}}]);