(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{H0Zp:function(r,t,e){"use strict";e.d(t,"a",(function(){return a}));var o=e("ofXK"),n=e("fXoL");let a=(()=>{class r{}return r.\u0275mod=n.Jb({type:r}),r.\u0275inj=n.Ib({factory:function(t){return new(t||r)},imports:[[o.c]]}),r})()},UUSl:function(r,t,e){"use strict";e.r(t),e.d(t,"SignUpModule",(function(){return _}));var o=e("mrSG"),n=e("3Pt+"),a=e("fXoL"),i=e("9ZKQ"),s=e("tyNb"),c=e("L7HW"),m=e("xyCQ"),l=e("IRyT"),u=e("dWDE"),b=e("4jEk"),p=e("kmnG"),f=e("qFsG"),d=e("ofXK"),h=e("bTqV"),g=e("Xa2L");function y(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.yc(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Ac(" ",r.errors.name.first," ")}}function w(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.yc(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Ac(" ",r.errors.name.last," ")}}function v(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.yc(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Ac(" ",r.errors.email," ")}}function I(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.yc(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Ac(" ",r.errors.password," ")}}function Q(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.yc(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Bc(" ",r.errors.confirm," ",r.form.value.password!=r.form.value.confirm&&r.errors.confirm?" & ":""," ",r.form.value.password!=r.form.value.confirm?"Passwords do not match!":""," ")}}function R(r,t){1&r&&a.Mb(0,"mat-progress-spinner",15)}let P=(()=>{class r{constructor(r,t,e,o,a,i,s){this.toast=r,this.route=t,this.config=e,this.router=o,this.apps=a,this.service=i,this.formerror=s,this.form=new n.e({name:new n.e({last:new n.c("",[n.t.required]),first:new n.c("",[n.t.required])}),email:new n.c("",[n.t.email,n.t.required]),confirm:new n.c("",[n.t.required]),password:new n.c("",[n.t.required])}),this.app={},this.errors={name:{last:"",first:""},email:"",confirm:"",password:""},this.subscriptions={}}load(){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=!0;const r=yield this.apps.load({filter:["icon","name","scopes"],appId:this.appId});this.loading=!1,r.ok?this.app=r.result:this.toast.show("Issue loading app!")}))}submit(){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=!0;const r=this.route.snapshot.queryParams,t=yield this.service.register({name:{last:this.form.value.name.last,first:this.form.value.name.first},appId:r.appId,email:this.form.value.email,confirm:this.form.value.confirm,password:this.form.value.password});t.ok?(this.toast.show("Sign up successfull!"),this.router.navigate(["/verify-account"],{queryParams:{email:this.form.value.email,appId:this.appId},replaceUrl:!0,queryParamsHandling:"merge"})):this.toast.show(t.error.message),this.loading=!1}))}verifyaccount(){this.router.navigate(["/verify-account"],{queryParamsHandling:"preserve"})}ngOnInit(){this.subscriptions.form=this.form.valueChanges.subscribe(r=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.subscriptions.loaded=this.config.loaded.subscribe(r=>{if(r){const r=this.route.snapshot.queryParams;null!=r.appId&&(this.appId=r.appId,this.load())}})}ngOnDestroy(){this.subscriptions.form.unsubscribe(),this.subscriptions.loaded.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(a.Lb(i.a),a.Lb(s.a),a.Lb(c.a),a.Lb(s.b),a.Lb(m.a),a.Lb(l.a),a.Lb(u.a))},r.\u0275cmp=a.Fb({type:r,selectors:[["signup-page"]],decls:46,vars:10,consts:[["alt","icon","width","100","height","100",3,"src"],[3,"formGroup","ngSubmit"],["formGroupName","name"],["appearance","outline"],["matInput","","type","text","name","first name","placeholder","first name","formControlName","first","required",""],[4,"ngIf"],["matInput","","type","text","name","last name","placeholder","last name","formControlName","last","required",""],["matInput","","type","email","name","email","placeholder","email","formControlName","email","required",""],["matInput","","type","password","name","password","placeholder","password","formControlName","password","required",""],["matInput","","type","password","name","confirm password","placeholder","confirm password","formControlName","confirm","required",""],["type","submit","mat-flat-button","","color","primary"],["mode","indeterminate","diameter","30",4,"ngIf"],["routerLink","/terms-and-conditions"],["routerLink","/privacy-policy"],["type","button","mat-stroked-button","","color","primary",3,"click"],["mode","indeterminate","diameter","30"]],template:function(r,t){1&r&&(a.Rb(0,"mat-content"),a.Mb(1,"img",0),a.Rb(2,"h1"),a.yc(3),a.Qb(),a.Rb(4,"h2"),a.yc(5," Sign Up "),a.Qb(),a.Rb(6,"form",1),a.Zb("ngSubmit",(function(){return t.form.value.password==t.form.value.confirm&&!t.form.invalid&&t.submit()})),a.Rb(7,"section",2),a.Rb(8,"mat-form-field",3),a.Rb(9,"mat-label"),a.yc(10," First Name "),a.Qb(),a.Mb(11,"input",4),a.xc(12,y,2,1,"mat-error",5),a.Qb(),a.Rb(13,"mat-form-field",3),a.Rb(14,"mat-label"),a.yc(15," Last Name "),a.Qb(),a.Mb(16,"input",6),a.xc(17,w,2,1,"mat-error",5),a.Qb(),a.Qb(),a.Rb(18,"mat-form-field",3),a.Rb(19,"mat-label"),a.yc(20," Email "),a.Qb(),a.Mb(21,"input",7),a.xc(22,v,2,1,"mat-error",5),a.Qb(),a.Rb(23,"mat-form-field",3),a.Rb(24,"mat-label"),a.yc(25," Password "),a.Qb(),a.Mb(26,"input",8),a.xc(27,I,2,1,"mat-error",5),a.Qb(),a.Rb(28,"mat-form-field",3),a.Rb(29,"mat-label"),a.yc(30," Confirm Password "),a.Qb(),a.Mb(31,"input",9),a.xc(32,Q,2,3,"mat-error",5),a.Qb(),a.Rb(33,"button",10),a.yc(34),a.xc(35,R,1,0,"mat-progress-spinner",11),a.Qb(),a.Rb(36,"p"),a.yc(37," By clicking \u201cSIGN UP\u201d, you agree to our "),a.Rb(38,"a",12),a.yc(39,"Terms & Conditions"),a.Qb(),a.yc(40," and "),a.Rb(41,"a",13),a.yc(42,"Privacy Policy"),a.Qb(),a.yc(43,". We\u2019ll occasionally send you account related emails. "),a.Qb(),a.Rb(44,"button",14),a.Zb("click",(function(){return t.verifyaccount()})),a.yc(45," verify account "),a.Qb(),a.Qb(),a.Qb()),2&r&&(a.Ab(1),a.ic("src",t.app.icon?t.app.icon:"./assets/icons/icon-512x512.png",a.qc),a.Ab(2),a.Ac(" ",t.app.name?t.app.name:"Auth"," "),a.Ab(3),a.ic("formGroup",t.form),a.Ab(6),a.ic("ngIf",t.errors.name.first),a.Ab(5),a.ic("ngIf",t.errors.name.last),a.Ab(5),a.ic("ngIf",t.errors.email),a.Ab(5),a.ic("ngIf",t.errors.password),a.Ab(5),a.ic("ngIf",t.errors.confirm||t.form.value.password!=t.form.value.confirm),a.Ab(2),a.Ac(" ",t.loading?"":"sign up"," "),a.Ab(1),a.ic("ngIf",t.loading))},directives:[b.a,n.u,n.o,n.f,n.g,p.c,p.f,f.a,n.b,n.n,n.d,n.s,d.k,h.a,s.e,p.b,g.a],styles:["mat-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}mat-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:20px 0}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:400px}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;text-align:justify;line-height:16px}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2196f3}"]}),r})();var A=e("NFeN"),C=e("MutI"),M=e("d3UM"),q=e("YUcS"),x=e("Qu3c"),O=e("/t3+"),L=e("H0Zp"),k=e("1jcm");const N=[{path:"",component:P}];let _=(()=>{class r{}return r.\u0275mod=a.Jb({type:r}),r.\u0275inj=a.Ib({factory:function(t){return new(t||r)},imports:[[n.h,d.c,A.b,C.c,f.b,h.b,M.a,x.b,q.a,O.b,L.a,p.e,n.r,k.b,g.b,s.f.forChild(N)]]}),r})()}}]);