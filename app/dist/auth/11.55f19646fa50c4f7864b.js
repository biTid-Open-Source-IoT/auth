(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{H0Zp:function(r,t,e){"use strict";e.d(t,"a",(function(){return a}));var o=e("ofXK"),n=e("fXoL");let a=(()=>{class r{}return r.\u0275mod=n.Jb({type:r}),r.\u0275inj=n.Ib({factory:function(t){return new(t||r)},imports:[[o.c]]}),r})()},UUSl:function(r,t,e){"use strict";e.r(t),e.d(t,"SignUpModule",(function(){return N}));var o=e("mrSG"),n=e("3Pt+"),a=e("fXoL"),i=e("9ZKQ"),s=e("tyNb"),c=e("L7HW"),m=e("xyCQ"),u=e("IRyT"),l=e("dWDE"),b=e("4jEk"),p=e("kmnG"),f=e("qFsG"),d=e("ofXK"),h=e("bTqV"),g=e("Xa2L");function y(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.Ac(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Cc(" ",r.errors.name.first," ")}}function w(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.Ac(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Cc(" ",r.errors.name.last," ")}}function v(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.Ac(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Cc(" ",r.errors.email," ")}}function A(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.Ac(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Cc(" ",r.errors.password," ")}}function I(r,t){if(1&r&&(a.Rb(0,"mat-error"),a.Ac(1),a.Qb()),2&r){const r=a.dc();a.Ab(1),a.Dc(" ",r.errors.confirm," ",r.form.value.password!=r.form.value.confirm&&r.errors.confirm?" & ":""," ",r.form.value.password!=r.form.value.confirm?"Passwords do not match!":""," ")}}function C(r,t){1&r&&a.Mb(0,"mat-progress-spinner",15)}let Q=(()=>{class r{constructor(r,t,e,o,a,i,s){this.toast=r,this.route=t,this.config=e,this.router=o,this.apps=a,this.service=i,this.formerror=s,this.form=new n.f({name:new n.f({last:new n.c("",[n.u.required]),first:new n.c("",[n.u.required])}),email:new n.c("",[n.u.email,n.u.required]),confirm:new n.c("",[n.u.required]),password:new n.c("",[n.u.required])}),this.app={},this.errors={name:{last:"",first:""},email:"",confirm:"",password:""},this.subscriptions={}}load(){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=!0;const r=yield this.apps.load({filter:["icon","name","scopes"],appId:this.appId});this.loading=!1,r.ok?this.app=r.result:this.toast.show("Issue loading app!")}))}submit(){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=!0;const r=this.route.snapshot.queryParams,t=yield this.service.register({name:{last:this.form.value.name.last,first:this.form.value.name.first},appId:r.appId,email:this.form.value.email,confirm:this.form.value.confirm,password:this.form.value.password});t.ok?(this.toast.show("Sign up successfull!"),this.router.navigate(["/verify-account"],{queryParams:{email:this.form.value.email,appId:this.appId},replaceUrl:!0,queryParamsHandling:"merge"})):this.toast.show(t.error.message),this.loading=!1}))}verifyaccount(){this.router.navigate(["/verify-account"],{queryParamsHandling:"preserve"})}ngOnInit(){this.subscriptions.form=this.form.valueChanges.subscribe(r=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.subscriptions.loaded=this.config.loaded.subscribe(r=>{if(r){const r=this.route.snapshot.queryParams;null!=r.appId&&(this.appId=r.appId,this.load())}})}ngOnDestroy(){this.subscriptions.form.unsubscribe(),this.subscriptions.loaded.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(a.Lb(i.a),a.Lb(s.a),a.Lb(c.a),a.Lb(s.b),a.Lb(m.a),a.Lb(u.a),a.Lb(l.a))},r.\u0275cmp=a.Fb({type:r,selectors:[["signup-page"]],decls:46,vars:10,consts:[["alt","icon","width","100","height","100",3,"src"],[3,"formGroup","ngSubmit"],["formGroupName","name"],["appearance","outline"],["matInput","","type","text","name","first name","placeholder","first name","formControlName","first","required",""],[4,"ngIf"],["matInput","","type","text","name","last name","placeholder","last name","formControlName","last","required",""],["matInput","","type","email","name","email","placeholder","email","formControlName","email","required",""],["matInput","","type","password","name","password","placeholder","password","formControlName","password","required",""],["matInput","","type","password","name","confirm password","placeholder","confirm password","formControlName","confirm","required",""],["type","submit","mat-flat-button","","color","primary"],["mode","indeterminate","diameter","30",4,"ngIf"],["routerLink","/terms-and-conditions"],["routerLink","/privacy-policy"],["type","button","mat-stroked-button","","color","primary",3,"click"],["mode","indeterminate","diameter","30"]],template:function(r,t){1&r&&(a.Rb(0,"mat-content"),a.Mb(1,"img",0),a.Rb(2,"h1"),a.Ac(3),a.Qb(),a.Rb(4,"h2"),a.Ac(5," Sign Up "),a.Qb(),a.Rb(6,"form",1),a.Zb("ngSubmit",(function(){return t.form.value.password==t.form.value.confirm&&!t.form.invalid&&t.submit()})),a.Rb(7,"section",2),a.Rb(8,"mat-form-field",3),a.Rb(9,"mat-label"),a.Ac(10," First Name "),a.Qb(),a.Mb(11,"input",4),a.yc(12,y,2,1,"mat-error",5),a.Qb(),a.Rb(13,"mat-form-field",3),a.Rb(14,"mat-label"),a.Ac(15," Last Name "),a.Qb(),a.Mb(16,"input",6),a.yc(17,w,2,1,"mat-error",5),a.Qb(),a.Qb(),a.Rb(18,"mat-form-field",3),a.Rb(19,"mat-label"),a.Ac(20," Email "),a.Qb(),a.Mb(21,"input",7),a.yc(22,v,2,1,"mat-error",5),a.Qb(),a.Rb(23,"mat-form-field",3),a.Rb(24,"mat-label"),a.Ac(25," Password "),a.Qb(),a.Mb(26,"input",8),a.yc(27,A,2,1,"mat-error",5),a.Qb(),a.Rb(28,"mat-form-field",3),a.Rb(29,"mat-label"),a.Ac(30," Confirm Password "),a.Qb(),a.Mb(31,"input",9),a.yc(32,I,2,3,"mat-error",5),a.Qb(),a.Rb(33,"button",10),a.Ac(34),a.yc(35,C,1,0,"mat-progress-spinner",11),a.Qb(),a.Rb(36,"p"),a.Ac(37," By clicking \u201cSIGN UP\u201d, you agree to our "),a.Rb(38,"a",12),a.Ac(39,"Terms & Conditions"),a.Qb(),a.Ac(40," and "),a.Rb(41,"a",13),a.Ac(42,"Privacy Policy"),a.Qb(),a.Ac(43,". We\u2019ll occasionally send you account related emails. "),a.Qb(),a.Rb(44,"button",14),a.Zb("click",(function(){return t.verifyaccount()})),a.Ac(45," verify account "),a.Qb(),a.Qb(),a.Qb()),2&r&&(a.Ab(1),a.jc("src",t.app.icon?t.app.icon:"./assets/icons/icon-512x512.png",a.rc),a.Ab(2),a.Cc(" ",t.app.name?t.app.name:"Auth"," "),a.Ab(3),a.jc("formGroup",t.form),a.Ab(6),a.jc("ngIf",t.errors.name.first),a.Ab(5),a.jc("ngIf",t.errors.name.last),a.Ab(5),a.jc("ngIf",t.errors.email),a.Ab(5),a.jc("ngIf",t.errors.password),a.Ab(5),a.jc("ngIf",t.errors.confirm||t.form.value.password!=t.form.value.confirm),a.Ab(2),a.Cc(" ",t.loading?"":"sign up"," "),a.Ab(1),a.jc("ngIf",t.loading))},directives:[b.a,n.v,n.p,n.g,n.h,p.c,p.f,f.a,n.b,n.o,n.e,n.t,d.l,h.a,s.e,p.b,g.a],styles:["mat-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}mat-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:20px 0}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:400px}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;text-align:justify;line-height:16px}mat-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2196f3}"]}),r})();var R=e("NFeN"),P=e("MutI"),M=e("d3UM"),q=e("YUcS"),O=e("Qu3c"),j=e("/t3+"),L=e("H0Zp"),k=e("1jcm");const x=[{path:"",component:Q}];let N=(()=>{class r{}return r.\u0275mod=a.Jb({type:r}),r.\u0275inj=a.Ib({factory:function(t){return new(t||r)},imports:[[n.i,d.c,R.b,P.c,f.b,h.b,M.b,O.b,q.a,j.b,L.a,p.e,n.s,k.b,g.b,s.f.forChild(x)]]}),r})()}}]);