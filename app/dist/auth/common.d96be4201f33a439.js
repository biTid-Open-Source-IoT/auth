"use strict";(self.webpackChunkauth=self.webpackChunkauth||[]).push([[592],{5607:(_,p,i)=>{i.d(p,{Z:()=>a});var s=i(1444);class a{constructor(t){this.role=0,this.apps=[],this.users=[],this.appId=[],this.groups=[],void 0!==t&&null!=t&&(void 0!==t.role&&null!=t.role&&(this.role=t.role),void 0!==t.apps&&null!=t.apps&&(this.apps=t.apps.map(o=>new s.U(o))),void 0!==t.users&&null!=t.users&&(this.users=t.users.map(o=>new s.U(o))),void 0!==t.appId&&null!=t.appId&&(this.appId=t.appId),void 0!==t.groups&&null!=t.groups&&(this.groups=t.groups.map(o=>new s.U(o))),void 0!==t.groupId&&null!=t.groupId&&(this.groupId=t.groupId),void 0!==t.private&&null!=t.private&&(this.private=t.private),void 0!==t.description&&null!=t.description&&(this.description=t.description),void 0!==t.organizationOnly&&null!=t.organizationOnly&&(this.organizationOnly=t.organizationOnly))}}},5628:(_,p,i)=>{i.d(p,{s:()=>s});class s{constructor(e){this.app={name:void 0,icon:void 0},this.role=0,void 0!==e&&null!=e&&(void 0!==e.app&&null!=e.app&&(void 0!==e.app.name&&null!=e.app.name&&(this.app.name=e.app.name),void 0!==e.app.icon&&null!=e.app.icon&&(this.app.icon=e.app.icon)),void 0!==e.url&&null!=e.url&&(this.url=e.url),void 0!==e.role&&null!=e.role&&(this.role=e.role),void 0!==e.appId&&null!=e.appId&&(this.appId=e.appId),void 0!==e.scopeId&&null!=e.scopeId&&(this.scopeId=e.scopeId),void 0!==e.description&&null!=e.description&&(this.description=e.description))}}},5601:(_,p,i)=>{i.d(p,{u:()=>y});var s=i(3075),a=i(2340),e=i(5e3),t=i(649),o=i(7635),f=i(508),h=i(9808);function x(r,d){if(1&r&&e._UZ(0,"div",2),2&r){const n=e.oxw();e.Udp("background-image","url("+n.src+")")}}const v=["*"];let y=(()=>{class r{constructor(n,m,u,E){this.el=n,this.toast=m,this.renderer=u,this.localstorage=E,this.accept="image/*",this.required=!1,this.minWidth=0,this.maxWidth=0,this.minHeight=0,this.maxHeight=0,this.touched=!1,this.disabled=!1,this.onChange=g=>{},this.onTouched=()=>{}}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}writeValue(n){this.src=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}process(){this.required&&!this.src?(this.renderer.setStyle(this.el.nativeElement,"color","#F44336"),this.renderer.setStyle(this.el.nativeElement,"border-width","2px"),this.renderer.setStyle(this.el.nativeElement,"border-color","#F44336")):(this.renderer.setStyle(this.el.nativeElement,"color","#000000"),this.renderer.setStyle(this.el.nativeElement,"border-width","1px"),this.renderer.setStyle(this.el.nativeElement,"border-color","#e0e0e0")),window.requestAnimationFrame(()=>this.process())}ngOnInit(){this.process(),this.renderer.listen(this.el.nativeElement,"click",()=>{const n=document.createElement("input");n.type="file",n.accept=this.accept,n.multiple=!1,n.onchange=m=>{const u=m.target.files;if(u.length>0){const I=new Image;var E=window.URL||window.webkitURL,g=E.createObjectURL(u[0]);I.onload=l=>l.target.width<this.minWidth&&this.minWidth>0?(this.toast.show("The width of your image must be greater than "+this.minWidth+"px"),!1):l.target.width>this.maxWidth&&this.maxWidth>0?(this.toast.show("The width of your image must be less than "+this.maxWidth+"px"),!1):l.target.height<this.minHeight&&this.minHeight>0?(this.toast.show("The height of your image must be greater than "+this.minHeight+"px"),!1):l.target.height>this.maxHeight&&this.maxHeight>0?(this.toast.show("The height of your image must be less than "+this.maxHeight+"px"),!1):(E.revokeObjectURL(g),l),I.src=g;const O=new FormData,c=new XMLHttpRequest;for(let l=0;l<u.length;l++)O.append("uploads[]",u[l],u[l].name);c.onreadystatechange=()=>{if(4==c.readyState&&200==c.status){const l=JSON.parse(c.response);this.src=[a.N.drive,"/drive/files/get?fileId=",l.fileId,"&token=",l.token].join(""),this.renderer.setStyle(this.el.nativeElement,"color","#000000"),this.renderer.setStyle(this.el.nativeElement,"border-width","1px"),this.renderer.setStyle(this.el.nativeElement,"border-color","#e0e0e0"),this.onChange(this.src)}},c.open("POST",`${a.N.drive}/drive/files/upload?userId=${this.localstorage.get("userId")}&appId=${a.N.appId}`,!0),c.setRequestHeader("Authorization",this.localstorage.get("token")),c.send(O)}},n.click()})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(t.k),e.Y36(e.Qsj),e.Y36(o.n))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mat-file"]],inputs:{src:"src",accept:"accept",required:"required",minWidth:["min-width","minWidth"],maxWidth:["max-width","maxWidth"],minHeight:["min-height","minHeight"],maxHeight:["max-height","maxHeight"]},features:[e._Bn([{multi:!0,provide:s.JU,useExisting:r}])],ngContentSelectors:v,decls:3,vars:1,consts:[["matRipple",""],["class","src","matRipple","",3,"background-image",4,"ngIf"],["matRipple","",1,"src"]],template:function(n,m){1&n&&(e.F$t(),e.Hsn(0),e._UZ(1,"div",0),e.YNc(2,x,1,2,"div",1)),2&n&&(e.xp6(2),e.Q6J("ngIf",m.src))},directives:[f.wG,h.O5],styles:["mat-file{margin:4px auto 20px;border:1px solid #e0e0e0;display:flex;position:relative;min-width:150px;max-width:150px;min-height:150px;max-height:150px;align-items:center;border-radius:5px;justify-content:center}mat-file mat-label{top:-5px;left:5px;height:10px;z-index:50;padding:0 3px;position:absolute;font-size:10px;line-height:10px;background-color:#fff}mat-file mat-label span{color:#2196f3}mat-file .src,mat-file [matRipple]{inset:8px;z-index:0;position:absolute;border-radius:2px}mat-file .src{background-size:cover;background-repeat:no-repeat;background-position:center center}mat-file:hover{border:2px solid #000!important;margin-top:3px;margin-bottom:19px}mat-file:hover mat-label{color:#000!important}\n"],encapsulation:2}),r})()},1065:(_,p,i)=>{i.d(p,{w:()=>e});var s=i(9808),a=i(5e3);let e=(()=>{class t{}return t.\u0275fac=function(f){return new(f||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[s.ez]]}),t})()},8712:(_,p,i)=>{i.d(p,{z:()=>t});var s=i(8624),e=i(5e3);let t=(()=>{class o{transform(h,x,v,y){let r="";for(let d=0;d<h.length;d++)if(s.get(h[d],x)==v){r=s.get(h[d],y);break}return r}}return o.\u0275fac=function(h){return new(h||o)},o.\u0275pipe=e.Yjl({name:"describe",type:o,pure:!0}),o})()}}]);