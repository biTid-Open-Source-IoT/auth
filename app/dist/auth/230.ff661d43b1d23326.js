"use strict";(self.webpackChunkauth=self.webpackChunkauth||[]).push([[230],{230:(L,p,a)=>{a.r(p),a.d(p,{SignUpPageModule:()=>Q});var u=a(5861),t=a(3075),m=a(2340),r=a(5e3),b=a(649),l=a(6696),x=a(8939),C=a(5358),w=a(4602),A=a(2109),U=a(8863),f=a(7093),g=a(9224),h=a(9808),v=a(5899),d=a(7322),Z=a(8833),P=a(7446),y=a(7423);function T(n,s){1&n&&r._UZ(0,"mat-progress-bar",21)}function I(n,s){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const o=r.oxw();r.xp6(1),r.hij(" ",o.errors.name.first," ")}}function N(n,s){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const o=r.oxw();r.xp6(1),r.hij(" ",o.errors.name.last," ")}}function M(n,s){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const o=r.oxw();r.xp6(1),r.hij(" ",o.errors.email," ")}}function O(n,s){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const o=r.oxw();r.xp6(1),r.hij(" ",o.errors.password," ")}}function q(n,s){if(1&n&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&n){const o=r.oxw();r.xp6(1),r.hij(" ",o.errors.confirm," ")}}let S=(()=>{class n{constructor(o,e,i,c,j,k,z){this.toast=o,this.route=e,this.config=i,this.router=c,this.apps=j,this.service=k,this.formerror=z,this.app={icon:m.N.icon,name:m.N.name,privacyPolicy:m.N.privacyPolicy,termsAndConditions:m.N.termsAndConditions},this.form=new t.cw({name:new t.cw({last:new t.NI(null,[t.kI.required]),first:new t.NI(null,[t.kI.required])}),email:new t.NI(null,[t.kI.email,t.kI.required]),confirm:new t.NI(null,[t.kI.required]),password:new t.NI(null,[t.kI.required]),privacyPolicy:new t.NI(!1,[t.kI.required]),newsAndChanges:new t.NI(!0,[t.kI.required]),termsAndConditions:new t.NI(!1,[t.kI.required])}),this.errors={name:{last:"",first:""},email:"",confirm:"",password:"",privacyPolicy:"",newsAndChanges:"",termsAndConditions:""},this.loading=!1,this.observers={}}submit(){var o=this;return(0,u.Z)(function*(){o.loading=!0;const e=o.route.snapshot.queryParams,i=yield o.service.register({name:{last:o.form.value.name.last,first:o.form.value.name.first},appId:e.appId,email:o.form.value.email,confirm:o.form.value.confirm,password:o.form.value.password,privacyPolicy:o.form.value.privacyPolicy,newsAndChanges:o.form.value.newsAndChanges,termsAndConditions:o.form.value.termsAndConditions});i.ok?(o.toast.show("Sign up successfull!"),o.router.navigate(["/verify-account"],{queryParams:{email:o.form.value.email},replaceUrl:!0,queryParamsHandling:"merge"})):(o.toast.show(i.error.message),72==i.error.code&&o.router.navigate(["/verify-account"],{queryParams:{email:o.form.value.email},replaceUrl:!0,queryParamsHandling:"merge"})),o.loading=!1})()}ngOnInit(){var o=this;this.observers.form=this.form.valueChanges.subscribe(e=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.observers.loaded=this.config.loaded.subscribe(function(){var e=(0,u.Z)(function*(i){i&&(o.app.icon=m.N.icon,o.app.name=m.N.name,o.app.privacyPolicy=m.N.privacyPolicy,o.app.termsAndConditions=m.N.termsAndConditions)});return function(i){return e.apply(this,arguments)}}()),this.observers.confirm=this.form.controls.confirm.valueChanges.subscribe(e=>{void 0!==e&&null!=e&&void 0!==this.form.value.password&&null!=this.form.value.password&&e!=this.form.value.password&&(this.errors.confirm="Passwords do not match!",this.form.controls.confirm.setErrors({noMatch:"Passwords do not match!"}))}),this.observers.password=this.form.controls.password.valueChanges.subscribe(e=>{void 0!==e&&null!=e&&void 0!==this.form.value.confirm&&null!=this.form.value.confirm&&e!=this.form.value.confirm&&(this.errors.password="Passwords do not match!",this.form.controls.password.setErrors({noMatch:"Passwords do not match!"}))})}ngOnDestroy(){var o,e,i,c;null===(o=this.observers.form)||void 0===o||o.unsubscribe(),null===(e=this.observers.loaded)||void 0===e||e.unsubscribe(),null===(i=this.observers.confirm)||void 0===i||i.unsubscribe(),null===(c=this.observers.password)||void 0===c||c.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)(r.Y36(b.k),r.Y36(l.gz),r.Y36(x.E),r.Y36(l.F0),r.Y36(C.b),r.Y36(w.B),r.Y36(A.J))},n.\u0275cmp=r.Xpm({type:n,selectors:[["signup-page"]],decls:57,vars:12,consts:[["fxLayout","column","fxLayoutAlign","center center"],["mode","indeterminate",4,"ngIf"],[1,"icon"],[3,"formGroup","ngSubmit"],["formGroupName","name"],["appearance","outline"],["matInput","","type","text","name","first name","placeholder","first name","formControlName","first","required",""],[4,"ngIf"],["matInput","","type","text","name","last name","placeholder","last name","formControlName","last","required",""],["matInput","","type","email","name","email","placeholder","email","formControlName","email","required",""],["matInput","","type","password","name","password","placeholder","password","formControlName","password","required",""],["matInput","","type","password","name","confirm password","placeholder","confirm password","formControlName","confirm","required",""],["color","primary","formControlName","newsAndChanges"],["color","primary","formControlName","privacyPolicy"],["color","primary","formControlName","termsAndConditions"],[1,"button-footer"],["type","button","mat-stroked-button","","color","primary","routerLink","/signin","queryParamsHandling","preserve"],["type","submit","mat-flat-button","","color","primary"],[1,"row-below-card"],["href","https://www.bitid.co.za","target","_blank"],["target","_blank",3,"href"],["mode","indeterminate"]],template:function(o,e){1&o&&(r.TgZ(0,"mat-content",0),r.TgZ(1,"mat-card"),r.YNc(2,T,1,0,"mat-progress-bar",1),r._UZ(3,"div",2),r.TgZ(4,"h1"),r._uU(5," Sign Up "),r.qZA(),r.TgZ(6,"p"),r._uU(7),r.qZA(),r.TgZ(8,"form",3),r.NdJ("ngSubmit",function(){return e.form.value.confirm==e.form.value.password&&!e.loading&&!e.form.invalid&&e.submit()}),r.TgZ(9,"section",4),r.TgZ(10,"mat-form-field",5),r.TgZ(11,"mat-label"),r._uU(12," First Name "),r.qZA(),r._UZ(13,"input",6),r.YNc(14,I,2,1,"mat-error",7),r.qZA(),r.TgZ(15,"mat-form-field",5),r.TgZ(16,"mat-label"),r._uU(17," Last Name "),r.qZA(),r._UZ(18,"input",8),r.YNc(19,N,2,1,"mat-error",7),r.qZA(),r.qZA(),r.TgZ(20,"mat-form-field",5),r.TgZ(21,"mat-label"),r._uU(22," Email "),r.qZA(),r._UZ(23,"input",9),r.YNc(24,M,2,1,"mat-error",7),r.qZA(),r.TgZ(25,"mat-form-field",5),r.TgZ(26,"mat-label"),r._uU(27," Password "),r.qZA(),r._UZ(28,"input",10),r.YNc(29,O,2,1,"mat-error",7),r.qZA(),r.TgZ(30,"mat-form-field",5),r.TgZ(31,"mat-label"),r._uU(32," Confirm Password "),r.qZA(),r._UZ(33,"input",11),r.YNc(34,q,2,1,"mat-error",7),r.qZA(),r.TgZ(35,"mat-checkbox",12),r._uU(36," I want to recieve news & changes "),r.qZA(),r.TgZ(37,"mat-checkbox",13),r._uU(38," I have read and agree to the privacy policy "),r.TgZ(39,"b"),r._uU(40," Required to continue! "),r.qZA(),r.qZA(),r.TgZ(41,"mat-checkbox",14),r._uU(42," I have read and agree to the terms & conditions "),r.TgZ(43,"b"),r._uU(44," Required to continue! "),r.qZA(),r.qZA(),r.TgZ(45,"div",15),r.TgZ(46,"button",16),r._uU(47," Sign In "),r.qZA(),r.TgZ(48,"button",17),r._uU(49," Next "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(50,"div",18),r.TgZ(51,"a",19),r._uU(52," Powered by biTid "),r.qZA(),r.TgZ(53,"a",20),r._uU(54," Privacy Policy "),r.qZA(),r.TgZ(55,"a",20),r._uU(56," Terms & Conditions "),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Udp("background-image","url("+e.app.icon+")"),r.xp6(4),r.hij(" to use ",e.app.name," "),r.xp6(1),r.Q6J("formGroup",e.form),r.xp6(6),r.Q6J("ngIf",e.errors.name.first),r.xp6(5),r.Q6J("ngIf",e.errors.name.last),r.xp6(5),r.Q6J("ngIf",e.errors.email),r.xp6(5),r.Q6J("ngIf",e.errors.password),r.xp6(5),r.Q6J("ngIf",e.errors.confirm),r.xp6(19),r.Q6J("href",e.app.privacyPolicy,r.LSH),r.xp6(2),r.Q6J("href",e.app.termsAndConditions,r.LSH))},directives:[U.s,f.xw,f.Wh,g.a8,h.O5,v.pW,t._Y,t.JL,t.sg,t.x0,d.KE,d.hX,Z.Nt,t.Fj,t.JJ,t.u,t.Q7,d.TO,P.oG,y.lW,l.rH],styles:["mat-card[_ngcontent-%COMP%]{width:calc(100% - 48px);max-width:400px}mat-card[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{top:0px;left:0px;right:0px;position:absolute;border-top-left-radius:4px;border-top-right-radius:4px}mat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:8px auto;display:block;background-size:cover;background-repeat:no-repeat;background-position:center center}mat-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px!important;text-align:center}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}mat-card[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{position:relative;margin-bottom:12px}mat-card[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{top:16px;left:24px;color:#9e9e9e;position:absolute;font-size:12px;font-weight:500}mat-card[_ngcontent-%COMP%]   .button-footer[_ngcontent-%COMP%]{display:flex;margin-top:8px;justify-content:space-between;flex-direction:row}mat-card[_ngcontent-%COMP%]   .button-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:calc(50% - 8px)}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]{top:calc(100% + 8px);left:0px;right:0px;height:10px;display:flex;padding:0 16px;position:absolute;flex-direction:row;justify-content:space-between}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#9e9e9e;font-size:12px;font-weight:500;text-decoration:none}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3f51b5;text-decoration:underline}"]}),n})();var J=a(2155),_=a(4274);const Y=[{path:"",component:S}];let Q=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[t.u5,h.ez,g.QW,Z.c,y.ot,_.X,J.o9,P.p9,d.lN,t.UX,v.Cv,l.Bz.forChild(Y)]]}),n})()}}]);