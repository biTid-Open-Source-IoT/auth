(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+P1L":function(i,t,e){"use strict";e.r(t),e.d(t,"UsersModule",(function(){return si}));var s=e("mrSG");class a{constructor(i){this.name={last:null,first:null,middle:null},this.number={tel:null,mobile:null},this.address={billing:{company:{vat:null,reg:null},street:null,suburb:null,country:null,cityTown:null,additional:null,postalCode:null},physical:{company:{vat:null,reg:null},street:null,suburb:null,country:null,cityTown:null,additional:null,postalCode:null},same:!1},this.identification={type:null,number:null},void 0!==i&&null!=i&&(void 0!==i.name&&null!=i.name&&(void 0!==i.name.last&&null!=i.name.last&&(this.name.last=i.name.last),void 0!==i.name.first&&null!=i.name.first&&(this.name.first=i.name.first),void 0!==i.name.middle&&null!=i.name.middle&&(this.name.middle=i.name.middle)),void 0!==i.number&&null!=i.number&&(void 0!==i.number.tel&&null!=i.number.tel&&(this.number.tel=i.number.tel),void 0!==i.number.mobile&&null!=i.number.mobile&&(this.number.mobile=i.number.mobile)),void 0!==i.address&&null!=i.address&&(void 0!==i.address.billing&&null!=i.address.billing&&(void 0!==i.address.billing.company&&null!=i.address.billing.company&&(void 0!==i.address.billing.company.vat&&null!=i.address.billing.company.vat&&(this.address.billing.company.vat=i.address.billing.company.vat),void 0!==i.address.billing.company.reg&&null!=i.address.billing.company.reg&&(this.address.billing.company.reg=i.address.billing.company.reg)),void 0!==i.address.billing.street&&null!=i.address.billing.street&&(this.address.billing.street=i.address.billing.street),void 0!==i.address.billing.suburb&&null!=i.address.billing.suburb&&(this.address.billing.suburb=i.address.billing.suburb),void 0!==i.address.billing.country&&null!=i.address.billing.country&&(this.address.billing.country=i.address.billing.country),void 0!==i.address.billing.cityTown&&null!=i.address.billing.cityTown&&(this.address.billing.cityTown=i.address.billing.cityTown),void 0!==i.address.billing.additional&&null!=i.address.billing.additional&&(this.address.billing.additional=i.address.billing.additional),void 0!==i.address.billing.postalCode&&null!=i.address.billing.postalCode&&(this.address.billing.postalCode=i.address.billing.postalCode)),void 0!==i.address.physical&&null!=i.address.physical&&(void 0!==i.address.physical.company&&null!=i.address.physical.company&&(void 0!==i.address.physical.company.vat&&null!=i.address.physical.company.vat&&(this.address.physical.company.vat=i.address.physical.company.vat),void 0!==i.address.physical.company.reg&&null!=i.address.physical.company.reg&&(this.address.physical.company.reg=i.address.physical.company.reg)),void 0!==i.address.physical.street&&null!=i.address.physical.street&&(this.address.physical.street=i.address.physical.street),void 0!==i.address.physical.suburb&&null!=i.address.physical.suburb&&(this.address.physical.suburb=i.address.physical.suburb),void 0!==i.address.physical.country&&null!=i.address.physical.country&&(this.address.physical.country=i.address.physical.country),void 0!==i.address.physical.cityTown&&null!=i.address.physical.cityTown&&(this.address.physical.cityTown=i.address.physical.cityTown),void 0!==i.address.physical.additional&&null!=i.address.physical.additional&&(this.address.physical.additional=i.address.physical.additional),void 0!==i.address.physical.postalCode&&null!=i.address.physical.postalCode&&(this.address.physical.postalCode=i.address.physical.postalCode)),void 0!==i.address.same&&null!=i.address.same&&(this.address.same=i.address.same)),void 0!==i.identification&&null!=i.identification&&(void 0!==i.identification.type&&null!=i.identification.type&&(this.identification.type=i.identification.type),void 0!==i.identification.number&&null!=i.identification.number&&(this.identification.number=i.identification.number)),void 0!==i.email&&null!=i.email&&(this.email=i.email),void 0!==i.userId&&null!=i.userId&&(this.userId=i.userId),void 0!==i.picture&&null!=i.picture&&(this.picture=i.picture),void 0!==i.language&&null!=i.language&&(this.language=i.language),void 0!==i.timezone&&null!=i.timezone&&(this.timezone=i.timezone),void 0!==i.username&&null!=i.username&&(this.username=i.username),void 0!==i.validated&&null!=i.validated&&(this.validated=i.validated),void 0!==i.serverDate&&null!=i.serverDate&&(this.serverDate=i.serverDate))}}var n=e("Dh3D"),l=e("3Pt+"),d=e("0IaG"),r=e("fXoL"),o=e("dWDE"),c=e("/t3+"),b=e("kmnG"),u=e("bTqV"),m=e("NFeN"),h=e("4jEk"),f=e("ofXK"),p=e("d3UM"),v=e("FKr1"),g=e("bv9b");function y(i,t){1&i&&r.Nb(0,"mat-progress-bar",9)}function C(i,t){if(1&i&&(r.Sb(0,"mat-error"),r.Cc(1),r.Rb()),2&i){const i=r.ec();r.Ab(1),r.Ec(" ",i.errors.validated," ")}}let S=(()=>{class i{constructor(i,t,e){this.dialog=i,this.config=t,this.formerror=e,this.form=new l.f({validated:new l.c([])}),this.errors={validated:""},this.subscriptions={}}load(){return Object(s.a)(this,void 0,void 0,(function*(){this.loading=!0,void 0!==this.config.validated&&null!=this.config.validated&&this.form.controls.validated.setValue(this.config.validated),this.loading=!1}))}close(){return Object(s.a)(this,void 0,void 0,(function*(){this.dialog.close(!1)}))}submit(){return Object(s.a)(this,void 0,void 0,(function*(){this.dialog.close(this.form.value)}))}ngOnInit(){this.subscriptions.form=this.form.valueChanges.subscribe(i=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.load()}ngOnDestroy(){this.subscriptions.form.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(r.Mb(d.d),r.Mb(d.a),r.Mb(o.a))},i.\u0275cmp=r.Gb({type:i,selectors:[["users-filter-dialog"]],decls:20,vars:5,consts:[[1,"spacer"],["mat-icon-button","",3,"click"],["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["name","validated","formControlName","validated","multiple",""],[3,"value"],[4,"ngIf"],["type","submit","color","primary","mat-flat-button",""],["mode","indeterminate"]],template:function(i,t){1&i&&(r.Sb(0,"mat-toolbar"),r.Sb(1,"mat-label",0),r.Cc(2," Filter Users "),r.Rb(),r.Sb(3,"button",1),r.ac("click",(function(){return t.close()})),r.Sb(4,"mat-icon"),r.Cc(5," close "),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"mat-content"),r.Ac(7,y,1,0,"mat-progress-bar",2),r.Sb(8,"form",3),r.ac("ngSubmit",(function(){return!t.loading&&!t.form.invalid&&t.submit()})),r.Sb(9,"mat-form-field",4),r.Sb(10,"mat-label"),r.Cc(11," Validated "),r.Rb(),r.Sb(12,"mat-select",5),r.Sb(13,"mat-option",6),r.Cc(14," Verified "),r.Rb(),r.Sb(15,"mat-option",6),r.Cc(16," Not Verified "),r.Rb(),r.Rb(),r.Ac(17,C,2,1,"mat-error",7),r.Rb(),r.Sb(18,"button",8),r.Cc(19," submit "),r.Rb(),r.Rb(),r.Rb()),2&i&&(r.Ab(7),r.kc("ngIf",t.loading),r.Ab(1),r.kc("formGroup",t.form),r.Ab(5),r.kc("value",1),r.Ab(2),r.kc("value",0),r.Ab(2),r.kc("ngIf",t.errors.validated))},directives:[c.a,b.g,u.a,m.a,h.a,f.l,l.w,l.p,l.g,b.c,p.a,l.o,l.e,v.k,g.a,b.b],styles:[".filter-dialog{width:500px!important}.filter-dialog .mat-dialog-container{padding:0!important}@media screen and (max-width:600px){.filter-dialog .mat-dialog-container{top:0;left:0;right:0;bottom:0;z-index:5000;position:fixed;border-radius:0}}"],encapsulation:2}),i})();var R=e("+0xr"),w=e("L7HW"),A=e("BhS5"),k=e("bS1C"),D=e("j7lE"),O=e("znSr"),x=e("MutI"),M=e("A5z7");function I(i,t){1&i&&r.Nb(0,"mat-progress-bar",16)}function E(i,t){if(1&i){const i=r.Tb();r.Sb(0,"mat-chip",19),r.ac("removed",(function(){r.rc(i);const e=t.$implicit;return r.ec(2).unfilter("validated",e)})),r.Sb(1,"mat-icon"),r.Cc(2," verified "),r.Rb(),r.Sb(3,"mat-label"),r.Cc(4),r.Rb(),r.Sb(5,"mat-icon",20),r.Cc(6," cancel "),r.Rb(),r.Rb()}if(2&i){const i=t.$implicit;r.Ab(4),r.Ec(" ",1==i?"Verified":"Not Verified"," ")}}function N(i,t){if(1&i&&(r.Sb(0,"mat-chip-list",17),r.Ac(1,E,7,1,"mat-chip",18),r.Rb()),2&i){const i=r.ec();r.Ab(1),r.kc("ngForOf",i.filter.validated)}}function P(i,t){1&i&&(r.Sb(0,"th",21),r.Cc(1," First Name "),r.Rb())}function j(i,t){if(1&i&&(r.Sb(0,"td",22),r.Cc(1),r.Rb()),2&i){const i=t.$implicit;r.Ab(1),r.Ec(" ",i.name.first?i.name.first:"-"," ")}}function T(i,t){1&i&&(r.Sb(0,"th",21),r.Cc(1," Middle Name "),r.Rb())}function F(i,t){if(1&i&&(r.Sb(0,"td",22),r.Cc(1),r.Rb()),2&i){const i=t.$implicit;r.Ab(1),r.Ec(" ",i.name.middle?i.name.middle:"-"," ")}}function $(i,t){1&i&&(r.Sb(0,"th",21),r.Cc(1," Last Name "),r.Rb())}function z(i,t){if(1&i&&(r.Sb(0,"td",22),r.Cc(1),r.Rb()),2&i){const i=t.$implicit;r.Ab(1),r.Ec(" ",i.name.last?i.name.last:"-"," ")}}function H(i,t){1&i&&(r.Sb(0,"th",21),r.Cc(1," Tel Number "),r.Rb())}function V(i,t){if(1&i&&(r.Sb(0,"td",22),r.Cc(1),r.Rb()),2&i){const i=t.$implicit;r.Ab(1),r.Ec(" ",i.number.tel?i.number.tel:"-"," ")}}function G(i,t){1&i&&(r.Sb(0,"th",21),r.Cc(1," Cell Number "),r.Rb())}function Q(i,t){if(1&i&&(r.Sb(0,"td",22),r.Cc(1),r.Rb()),2&i){const i=t.$implicit;r.Ab(1),r.Ec(" ",i.number.mobile?i.number.mobile:"-"," ")}}function _(i,t){1&i&&(r.Sb(0,"th",21),r.Cc(1," Email "),r.Rb())}function L(i,t){if(1&i&&(r.Sb(0,"td",22),r.Cc(1),r.Rb()),2&i){const i=t.$implicit;r.Ab(1),r.Ec(" ",i.email?i.email:"-"," ")}}function U(i,t){1&i&&(r.Sb(0,"th",21),r.Cc(1," Validated "),r.Rb())}function J(i,t){if(1&i&&(r.Sb(0,"td",22),r.Sb(1,"span"),r.Cc(2),r.Rb(),r.Rb()),2&i){const i=t.$implicit;r.Ab(1),r.Cb(0==i.validated?"not-verified":"verified"),r.Ab(1),r.Ec(" ",0==i.validated?"not verified":"verified"," ")}}function K(i,t){1&i&&r.Nb(0,"tr",23)}function X(i,t){1&i&&r.Nb(0,"tr",24)}function W(i,t){if(1&i&&(r.Sb(0,"mat-list-item",25),r.Sb(1,"mat-label"),r.Sb(2,"h3"),r.Cc(3),r.Rb(),r.Sb(4,"p"),r.Cc(5),r.Rb(),r.Rb(),r.Rb()),2&i){const i=t.$implicit;r.Ab(3),r.Fc(" ",i.name.first," ",i.name.last," "),r.Ab(2),r.Ec(" ",i.email," ")}}let q=(()=>{class i{constructor(i,t,e,s,a){this.config=i,this.dialog=t,this.buttons=e,this.filters=s,this.service=a,this.filter=this.filters.get({validated:[]}),this.users=new R.k,this.columns=["namefirst","namemiddle","namelast","email","numbertel","numbercell","validated"],this.subscriptions={}}list(){return Object(s.a)(this,void 0,void 0,(function*(){this.loading=!0;const i=yield this.service.list({filter:["name","email","userId","number","validated"],validated:this.filter.validated});this.users.data=i.ok?i.result.map(i=>new a(i)):[],this.loading=!1}))}unfilter(i,t){this.filter[i]=this.filter[i].filter(i=>i!=t),this.filters.update(this.filter),this.list()}ngOnInit(){this.buttons.hide("add"),this.buttons.hide("close"),this.buttons.show("filter"),this.buttons.show("search"),this.sort.active="name-first",this.sort.direction="asc",this.users.sort=this.sort,this.subscriptions.loaded=this.config.loaded.subscribe(i=>Object(s.a)(this,void 0,void 0,(function*(){i&&(yield this.list())}))),this.subscriptions.search=this.buttons.search.value.subscribe(i=>{this.users.filter=i}),this.subscriptions.filter=this.buttons.filter.click.subscribe(i=>Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.dialog.open(S,{data:this.filter,panelClass:"filter-dialog"});yield i.afterClosed().subscribe(i=>Object(s.a)(this,void 0,void 0,(function*(){i&&(Object.keys(i).map(t=>{this.filter[t]=i[t]}),this.filters.update(this.filter),this.list())})))})))}ngOnDestroy(){this.buttons.reset("search"),this.subscriptions.loaded.unsubscribe(),this.subscriptions.search.unsubscribe(),this.subscriptions.filter.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(r.Mb(w.a),r.Mb(d.b),r.Mb(A.a),r.Mb(k.a),r.Mb(D.a))},i.\u0275cmp=r.Gb({type:i,selectors:[["users-page"]],viewQuery:function(i,t){var e;1&i&&r.wc(n.a,!0),2&i&&r.oc(e=r.bc())&&(t.sort=e.first)},decls:28,vars:7,consts:[["mode","indeterminate",4,"ngIf"],["class","filterbar",4,"ngIf"],["mat-table","","fxShow","","fxHide.xs","true","matSort","",3,"dataSource"],["matColumnDef","namefirst"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","namemiddle"],["matColumnDef","namelast"],["matColumnDef","numbertel"],["matColumnDef","numbercell"],["matColumnDef","email"],["matColumnDef","validated"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["fxHide","","fxShow.xs","true"],["lines","full","matRipple","",4,"ngFor","ngForOf"],["mode","indeterminate"],[1,"filterbar"],[3,"removed",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["lines","full","matRipple",""]],template:function(i,t){1&i&&(r.Ac(0,I,1,0,"mat-progress-bar",0),r.Ac(1,N,2,1,"mat-chip-list",1),r.Sb(2,"table",2),r.Qb(3,3),r.Ac(4,P,2,0,"th",4),r.Ac(5,j,2,1,"td",5),r.Pb(),r.Qb(6,6),r.Ac(7,T,2,0,"th",4),r.Ac(8,F,2,1,"td",5),r.Pb(),r.Qb(9,7),r.Ac(10,$,2,0,"th",4),r.Ac(11,z,2,1,"td",5),r.Pb(),r.Qb(12,8),r.Ac(13,H,2,0,"th",4),r.Ac(14,V,2,1,"td",5),r.Pb(),r.Qb(15,9),r.Ac(16,G,2,0,"th",4),r.Ac(17,Q,2,1,"td",5),r.Pb(),r.Qb(18,10),r.Ac(19,_,2,0,"th",4),r.Ac(20,L,2,1,"td",5),r.Pb(),r.Qb(21,11),r.Ac(22,U,2,0,"th",4),r.Ac(23,J,3,3,"td",5),r.Pb(),r.Ac(24,K,1,0,"tr",12),r.Ac(25,X,1,0,"tr",13),r.Rb(),r.Sb(26,"mat-list",14),r.Ac(27,W,6,3,"mat-list-item",15),r.Rb()),2&i&&(r.kc("ngIf",t.loading),r.Ab(1),r.kc("ngIf",t.filter.validated.length>0),r.Ab(1),r.kc("dataSource",t.users),r.Ab(22),r.kc("matHeaderRowDef",t.columns)("matHeaderRowDefSticky",!0),r.Ab(1),r.kc("matRowDefColumns",t.columns),r.Ab(2),r.kc("ngForOf",t.users.data))},directives:[f.l,R.j,O.a,n.a,R.c,R.e,R.b,R.g,R.i,x.a,f.k,g.a,M.c,M.a,m.a,b.g,M.d,R.d,n.b,R.a,R.f,R.h,x.b,v.o],styles:["mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row}.mat-column-validated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px;font-size:12px;border-radius:12px;background-color:#e0e0e0}.mat-column-validated[_ngcontent-%COMP%]   span.verified[_ngcontent-%COMP%]{color:#fff;background-color:#2196f3}"]}),i})();var B=e("tVzd"),Y=e("YUcS"),Z=e("H0Zp"),ii=e("p/0r"),ti=e("tyNb");const ei=[{path:"",component:q}];let si=(()=>{class i{}return i.\u0275mod=r.Kb({type:i}),i.\u0275inj=r.Jb({factory:function(t){return new(t||i)},imports:[[l.i,f.c,m.b,x.c,n.c,R.l,M.e,d.c,v.p,u.b,B.a,p.b,Z.a,Y.a,ii.a,c.b,b.e,l.t,g.b,ti.g.forChild(ei)]]}),i})()},"4jEk":function(i,t,e){"use strict";e.d(t,"a",(function(){return n}));var s=e("fXoL");const a=["*"];let n=(()=>{class i{constructor(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Gb({type:i,selectors:[["mat-content"]],ngContentSelectors:a,decls:1,vars:0,template:function(i,t){1&i&&(s.jc(),s.ic(0))},styles:["mat-content{flex:1 auto;height:calc(100vh - 100px);overflow-y:auto}"],encapsulation:2}),i})()}}]);