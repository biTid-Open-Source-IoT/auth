"use strict";(self.webpackChunkauth=self.webpackChunkauth||[]).push([[522],{2522:(I,g,r)=>{r.r(g),r.d(g,{ForgotPasswordPageModule:()=>U});var u=r(5861),a=r(3075),i=r(2340),t=r(5e3),b=r(649),m=r(6696),C=r(8939),Z=r(4602),x=r(2109),w=r(8863),f=r(7093),p=r(9224),h=r(9808),v=r(5899),d=r(7322),P=r(8833),y=r(7423);function M(e,s){1&e&&t._UZ(0,"mat-progress-bar",13)}function O(e,s){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",o.errors.email," ")}}let T=(()=>{class e{constructor(o,n,c,l,J,Y){this.toast=o,this.route=n,this.config=c,this.router=l,this.service=J,this.formerror=Y,this.app={icon:i.N.icon,name:i.N.name,privacyPolicy:i.N.privacyPolicy,termsAndConditions:i.N.termsAndConditions},this.form=new a.cw({email:new a.NI(null,[a.kI.email,a.kI.required])}),this.errors={email:""},this.loading=!1,this.observers={}}submit(){var o=this;return(0,u.Z)(function*(){o.loading=!0;const n=yield o.service.resetpassword({email:o.form.value.email});n.ok?(o.toast.show("Check your email for reset instructions!"),o.router.navigate(["/signin"],{queryParams:{email:o.form.value.email},replaceUrl:!0,queryParamsHandling:"merge"})):o.toast.show(n.error.message),o.loading=!1})()}ngOnInit(){var o=this;this.observers.form=this.form.valueChanges.subscribe(n=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.observers.loaded=this.config.loaded.subscribe(function(){var n=(0,u.Z)(function*(c){if(c){o.app.icon=i.N.icon,o.app.name=i.N.name,o.app.privacyPolicy=i.N.privacyPolicy,o.app.termsAndConditions=i.N.termsAndConditions;const l=o.route.snapshot.queryParams;void 0!==l.email&&null!=l.email&&o.form.controls.email.setValue(l.email),o.form.invalid||o.submit()}});return function(c){return n.apply(this,arguments)}}())}ngOnDestroy(){var o,n;null===(o=this.observers.form)||void 0===o||o.unsubscribe(),null===(n=this.observers.loaded)||void 0===n||n.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(b.k),t.Y36(m.gz),t.Y36(C.E),t.Y36(m.F0),t.Y36(Z.B),t.Y36(x.J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["forgot-password-page"]],decls:26,vars:7,consts:[["fxLayout","column","fxLayoutAlign","center center"],["mode","indeterminate",4,"ngIf"],[1,"icon"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","email","name","email","placeholder","email","formControlName","email","required",""],[4,"ngIf"],[1,"button-footer"],["type","button","mat-stroked-button","","color","primary","routerLink","/signin","queryParamsHandling","preserve"],["type","submit","mat-flat-button","","color","primary"],[1,"row-below-card"],["href","https://www.bitid.co.za","target","_blank"],["target","_blank",3,"href"],["mode","indeterminate"]],template:function(o,n){1&o&&(t.TgZ(0,"mat-content",0),t.TgZ(1,"mat-card"),t.YNc(2,M,1,0,"mat-progress-bar",1),t._UZ(3,"div",2),t.TgZ(4,"h1"),t._uU(5," Forgot Password "),t.qZA(),t.TgZ(6,"p"),t._uU(7," You will receive an email with your instructions to reset your password! "),t.qZA(),t.TgZ(8,"form",3),t.NdJ("ngSubmit",function(){return!n.loading&&!n.form.invalid&&n.submit()}),t.TgZ(9,"mat-form-field",4),t.TgZ(10,"mat-label"),t._uU(11," Email "),t.qZA(),t._UZ(12,"input",5),t.YNc(13,O,2,1,"mat-error",6),t.qZA(),t.TgZ(14,"div",7),t.TgZ(15,"button",8),t._uU(16," Back "),t.qZA(),t.TgZ(17,"button",9),t._uU(18," Next "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",10),t.TgZ(20,"a",11),t._uU(21," Powered by biTid "),t.qZA(),t.TgZ(22,"a",12),t._uU(23," Privacy Policy "),t.qZA(),t.TgZ(24,"a",12),t._uU(25," Terms & Conditions "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(1),t.Udp("background-image","url("+n.app.icon+")"),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(5),t.Q6J("ngIf",n.errors.email),t.xp6(9),t.Q6J("href",n.app.privacyPolicy,t.LSH),t.xp6(2),t.Q6J("href",n.app.termsAndConditions,t.LSH))},directives:[w.s,f.xw,f.Wh,p.a8,h.O5,v.pW,a._Y,a.JL,a.sg,d.KE,d.hX,P.Nt,a.Fj,a.JJ,a.u,a.Q7,d.TO,y.lW,m.rH],styles:["mat-card[_ngcontent-%COMP%]{width:calc(100% - 48px);max-width:400px}mat-card[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{top:0;left:0;right:0;position:absolute;border-top-left-radius:4px;border-top-right-radius:4px}mat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:8px auto;display:block;background-size:cover;background-repeat:no-repeat;background-position:center center}mat-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px!important;text-align:center}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}mat-card[_ngcontent-%COMP%]   .button-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row}mat-card[_ngcontent-%COMP%]   .button-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:calc(50% - 8px)}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]{top:calc(100% + 8px);left:0;right:0;height:10px;display:flex;padding:0 16px;position:absolute;flex-direction:row;justify-content:space-between}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#9e9e9e;font-size:12px;font-weight:500;text-decoration:none}mat-card[_ngcontent-%COMP%]   .row-below-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3f51b5;text-decoration:underline}"]}),e})();var A=r(2155),F=r(4274);const N=[{path:"",component:T}];let U=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.u5,h.ez,p.QW,P.c,y.ot,F.X,A.o9,d.lN,a.UX,v.Cv,m.Bz.forChild(N)]]}),e})()}}]);