"use strict";(self.webpackChunkauth=self.webpackChunkauth||[]).push([[651],{8651:(Zt,A,s)=>{s.r(A),s.d(A,{UsersPageModule:()=>vt});var d=s(5861),f=s(4847),o=s(4999),N=s(2064),m=s(3075),p=s(8966),t=s(5e3),Y=s(2109),v=s(4594),Z=s(7423),T=s(5245),u=s(9808),b=s(8863),c=s(7322),_=s(4107),C=s(508),D=s(4080),U=s(5899);function F(i,a){1&i&&t._UZ(0,"mat-progress-bar",11)}function J(i,a){if(1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.errors.validated," ")}}let Q=(()=>{class i{constructor(e,r,n){this.dialog=e,this.config=r,this.formerror=n,this.form=new m.cw({validated:new m.NI([])}),this.errors={validated:""},this.loading=!1,this.observers={}}load(){var e=this;return(0,d.Z)(function*(){e.loading=!0,void 0!==e.config.validated&&null!=e.config.validated&&e.form.controls.validated.setValue(e.config.validated),e.loading=!1})()}close(){var e=this;return(0,d.Z)(function*(){e.dialog.close(!1)})()}submit(){var e=this;return(0,d.Z)(function*(){e.dialog.close(e.form.value)})()}ngOnInit(){this.observers.form=this.form.valueChanges.subscribe(e=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.load()}ngOnDestroy(){this.observers.form.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.so),t.Y36(p.WI),t.Y36(Y.J))},i.\u0275cmp=t.Xpm({type:i,selectors:[["users-filter-dialog"]],decls:23,vars:5,consts:[["for","filter users"],["mat-icon-button","",3,"click"],["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["name","validated","formControlName","validated","multiple",""],[3,"value"],[4,"ngIf"],["type","submit",2,"display","none"],["button",""],["type","button","color","primary","mat-flat-button","",3,"click"],["mode","indeterminate"]],template:function(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"mat-toolbar"),t.TgZ(1,"label",0),t._uU(2," Filter Users "),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return r.close()}),t.TgZ(4,"mat-icon"),t._uU(5," close "),t.qZA(),t.qZA(),t.qZA(),t.YNc(6,F,1,0,"mat-progress-bar",2),t.TgZ(7,"mat-content"),t.TgZ(8,"form",3),t.NdJ("ngSubmit",function(){return!r.loading&&!r.form.invalid&&r.submit()}),t.TgZ(9,"mat-form-field",4),t.TgZ(10,"mat-label"),t._uU(11," Validated "),t.qZA(),t.TgZ(12,"mat-select",5),t.TgZ(13,"mat-option",6),t._uU(14," Verified "),t.qZA(),t.TgZ(15,"mat-option",6),t._uU(16," Not Verified "),t.qZA(),t.qZA(),t.YNc(17,J,2,1,"mat-error",7),t.qZA(),t._UZ(18,"button",8,9),t.qZA(),t.qZA(),t.TgZ(20,"mat-footer"),t.TgZ(21,"button",10),t.NdJ("click",function(){return t.CHM(n),t.MAs(19).click()}),t._uU(22," Apply "),t.qZA(),t.qZA()}2&e&&(t.xp6(6),t.Q6J("ngIf",r.loading),t.xp6(2),t.Q6J("formGroup",r.form),t.xp6(5),t.Q6J("value",1),t.xp6(2),t.Q6J("value",0),t.xp6(2),t.Q6J("ngIf",r.errors.validated))},directives:[v.Ye,Z.lW,T.Hw,u.O5,b.s,m._Y,m.JL,m.sg,c.KE,c.hX,_.gD,m.JJ,m.u,C.ey,D.A,U.pW,c.TO],styles:[".filter-dialog{width:500px!important}.filter-dialog .mat-dialog-container{padding:0!important}@media screen and (max-width: 600px){.filter-dialog .mat-dialog-container{top:0px;left:0px;right:0px;bottom:0px;z-index:5000;position:fixed;border-radius:0}}\n"],encapsulation:2}),i})();var y=s(3065),O=s(8939),M=s(8188),H=s(4733),j=s(5277),I=s(3322),x=s(4449),g=s(6688);function R(i,a){1&i&&t._UZ(0,"mat-progress-bar",19)}function S(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",22),t.NdJ("removed",function(){const l=t.CHM(e).$implicit;return t.oxw(2).unfilter("validated",l)}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.TgZ(3,"mat-label"),t._uU(4),t.qZA(),t.TgZ(5,"mat-icon",23),t._uU(6," cancel "),t.qZA(),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",1==e?"verified":"new_releases"," "),t.xp6(2),t.hij(" ",1==e?"Verified":"Not Verified"," ")}}function q(i,a){if(1&i&&(t.TgZ(0,"mat-chip-list",20),t.YNc(1,S,7,2,"mat-chip",21),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.filter.validated)}}function $(i,a){1&i&&(t.TgZ(0,"th",24),t._uU(1," First Name "),t.qZA())}function B(i,a){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name.first?e.name.first:"-"," ")}}function E(i,a){1&i&&(t.TgZ(0,"th",24),t._uU(1," Middle Name "),t.qZA())}function G(i,a){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name.middle?e.name.middle:"-"," ")}}function X(i,a){1&i&&(t.TgZ(0,"th",24),t._uU(1," Last Name "),t.qZA())}function V(i,a){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name.last?e.name.last:"-"," ")}}function z(i,a){1&i&&(t.TgZ(0,"th",24),t._uU(1," Tel Number "),t.qZA())}function W(i,a){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.number.tel?e.number.tel:"-"," ")}}function L(i,a){1&i&&(t.TgZ(0,"th",24),t._uU(1," Mobile Number "),t.qZA())}function K(i,a){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.number.mobile?e.number.mobile:"-"," ")}}function w(i,a){1&i&&(t.TgZ(0,"th",24),t._uU(1," Email "),t.qZA())}function k(i,a){if(1&i&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.email?e.email:"-"," ")}}function tt(i,a){1&i&&(t.TgZ(0,"th",24),t._uU(1," Validated "),t.qZA())}function et(i,a){if(1&i&&(t.TgZ(0,"td",25),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Tol(0==e.validated?"not-verified":"verified"),t.xp6(1),t.hij(" ",0==e.validated?"not verified":"verified"," ")}}function it(i,a){1&i&&t._UZ(0,"tr",26)}function at(i,a){1&i&&t._UZ(0,"tr",27)}function st(i,a){if(1&i&&(t.TgZ(0,"mat-list-item",28),t.TgZ(1,"mat-label"),t.TgZ(2,"h3"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.qZA(),t.qZA()),2&i){const e=a.$implicit;t.xp6(3),t.AsE(" ",e.name.first," ",e.name.last," "),t.xp6(2),t.hij(" ",e.email," ")}}const P=function(){return["name.first","name.middle","name.last","email","number.tel","number.mobile","validated"]};let rt=(()=>{class i{constructor(e,r,n,l){this.config=e,this.dialog=r,this.filters=n,this.service=l,this.sort=new f.YE,this.filter=this.filters.get({validated:[]}),this.users=new o.by,this.loading=!1,this.observers={}}list(){var e=this;return(0,d.Z)(function*(){e.loading=!0;const r=yield e.service.list({filter:["name","email","userId","number","validated"],validated:e.filter.validated});e.users.data=r.ok?r.result.map(n=>new N.n(n)):[],e.loading=!1})()}unfilter(e,r){this.filter[e]=this.filter[e].filter(n=>n!=r),this.filters.update(this.filter),this.list()}OpenFilter(){var e=this;return(0,d.Z)(function*(){yield(yield e.dialog.open(Q,{data:e.filter,panelClass:"filter-dialog"})).afterClosed().subscribe(function(){var n=(0,d.Z)(function*(l){l&&(Object.keys(l).map(h=>{e.filter[h]=l[h]}),e.filters.update(e.filter),e.list())});return function(l){return n.apply(this,arguments)}}())})()}ngOnInit(){var e=this;this.sort.active="name.first",this.sort.direction="asc",this.users.sort=this.sort,this.observers.loaded=this.config.loaded.subscribe(function(){var r=(0,d.Z)(function*(n){n&&(yield e.list())});return function(n){return r.apply(this,arguments)}}())}ngOnDestroy(){var e;null===(e=this.observers.loaded)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(O.E),t.Y36(p.uw),t.Y36(M.q),t.Y36(H.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["users-page"]],viewQuery:function(e,r){if(1&e&&(t.Gf(f.YE,7),t.Gf(y.g,7)),2&e){let n;t.iGM(n=t.CRH())&&(r.sort=n.first),t.iGM(n=t.CRH())&&(r.search=n.first)}},decls:37,vars:9,consts:[["for","users"],["placeholder","Filter users.."],["mat-icon-button","",3,"click"],["mode","indeterminate",4,"ngIf"],["class","filterbar",4,"ngIf"],["mat-table","","fxShow","","fxHide.xs","true","matSort","",3,"dataSource"],["matColumnDef","name.first"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name.middle"],["matColumnDef","name.last"],["matColumnDef","number.tel"],["matColumnDef","number.mobile"],["matColumnDef","email"],["matColumnDef","validated"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["fxHide","","fxShow.xs","true"],["lines","full","matRipple","",4,"ngFor","ngForOf"],["mode","indeterminate"],[1,"filterbar"],[3,"removed",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["lines","full","matRipple",""]],template:function(e,r){1&e&&(t.TgZ(0,"mat-toolbar"),t._UZ(1,"mat-menu-button"),t.TgZ(2,"label",0),t._uU(3," Users "),t.qZA(),t._UZ(4,"search",1),t.TgZ(5,"button",2),t.NdJ("click",function(){return r.OpenFilter()}),t.TgZ(6,"mat-icon"),t._uU(7," filter_list "),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,R,1,0,"mat-progress-bar",3),t.TgZ(9,"mat-content"),t.YNc(10,q,2,1,"mat-chip-list",4),t.TgZ(11,"table",5),t.ynx(12,6),t.YNc(13,$,2,0,"th",7),t.YNc(14,B,2,1,"td",8),t.BQk(),t.ynx(15,9),t.YNc(16,E,2,0,"th",7),t.YNc(17,G,2,1,"td",8),t.BQk(),t.ynx(18,10),t.YNc(19,X,2,0,"th",7),t.YNc(20,V,2,1,"td",8),t.BQk(),t.ynx(21,11),t.YNc(22,z,2,0,"th",7),t.YNc(23,W,2,1,"td",8),t.BQk(),t.ynx(24,12),t.YNc(25,L,2,0,"th",7),t.YNc(26,K,2,1,"td",8),t.BQk(),t.ynx(27,13),t.YNc(28,w,2,0,"th",7),t.YNc(29,k,2,1,"td",8),t.BQk(),t.ynx(30,14),t.YNc(31,tt,2,0,"th",7),t.YNc(32,et,3,3,"td",8),t.BQk(),t.YNc(33,it,1,0,"tr",15),t.YNc(34,at,1,0,"tr",16),t.qZA(),t.TgZ(35,"mat-list",17),t.YNc(36,st,6,3,"mat-list-item",18),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.Q6J("ngIf",r.loading),t.xp6(2),t.Q6J("ngIf",r.filter.validated.length>0),t.xp6(1),t.Q6J("dataSource",r.users),t.xp6(22),t.Q6J("matHeaderRowDef",t.DdM(7,P))("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(8,P)),t.xp6(2),t.Q6J("ngForOf",r.users.data))},directives:[v.Ye,j.v,y.g,Z.lW,T.Hw,u.O5,b.s,o.BZ,I.b8,f.YE,o.w1,o.fO,o.Dz,o.as,o.nj,x.i$,u.sg,U.pW,g.qn,g.HS,c.hX,g.qH,o.ge,f.nU,o.ev,o.XQ,o.Gk,x.Tg],styles:["mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row}.mat-column-validated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px;font-size:12px;border-radius:12px;background-color:#e0e0e0}.mat-column-validated[_ngcontent-%COMP%]   span.verified[_ngcontent-%COMP%]{color:#fff;background-color:#2196f3}"]}),i})();var nt=s(949),ot=s(8833),lt=s(2217),mt=s(7375),dt=s(2155),ft=s(2604),ct=s(4274),ut=s(5612),gt=s(6696),ht=s(1303);const pt=[{path:"",component:rt}];let vt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.u5,u.ez,nt.t,x.ie,T.Ps,f.JX,ot.c,g.Hi,o.p0,lt.l,Z.ot,_.LD,mt.M,dt.o9,ft.o,ct.X,v.g0,c.lN,ut.G,m.UX,U.Cv,ht.Co,gt.Bz.forChild(pt)]]}),i})()}}]);