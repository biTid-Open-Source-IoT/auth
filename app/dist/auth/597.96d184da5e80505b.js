"use strict";(self.webpackChunkauth=self.webpackChunkauth||[]).push([[597],{2217:(O,_,e)=>{e.d(_,{l:()=>d});var t=e(9808),o=e(5e3);let d=(()=>{class r{}return r.\u0275fac=function(b){return new(b||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[t.ez]]}),r})()},4080:(O,_,e)=>{e.d(_,{A:()=>d});var t=e(5e3);const o=["*"];let d=(()=>{class r{constructor(){}}return r.\u0275fac=function(b){return new(b||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-footer"]],ngContentSelectors:o,decls:1,vars:0,template:function(b,l){1&b&&(t.F$t(),t.Hsn(0))},styles:["mat-footer{flex:1 auto;color:#000000de;height:56px;display:flex;padding:0 16px;min-height:56px;max-height:56px;background:#f5f5f5;align-items:center}\n"],encapsulation:2}),r})()},5612:(O,_,e)=>{e.d(_,{G:()=>b});var t=e(9808),o=e(5245),d=e(7544),r=e(7423),p=e(5e3);let b=(()=>{class l{}return l.\u0275fac=function(c){return new(c||l)},l.\u0275mod=p.oAB({type:l}),l.\u0275inj=p.cJS({imports:[[t.ez,o.Ps,d.g,r.ot]]}),l})()},5277:(O,_,e)=>{e.d(_,{v:()=>b});var t=e(5e3),o=e(9922),d=e(7423),r=e(5245),p=e(7544);let b=(()=>{class l{constructor(c){this.menu=c,this.badge=0,this.observers={}}ngOnInit(){this.observers.badge=this.menu.badge.subscribe(c=>{this.badge=0,Object.keys(c).map(h=>{this.badge+=c[h]})})}ngOnDestroy(){this.observers.badge.unsubscribe()}}return l.\u0275fac=function(c){return new(c||l)(t.Y36(o.h))},l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-menu-button"]],decls:3,vars:1,consts:[["mat-icon-button","",3,"click"],["matBadge","priority_high","matBadgeSize","medium","matBadgeColor","warn",3,"matBadgeHidden"]],template:function(c,h){1&c&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return h.menu.toggle()}),t.TgZ(1,"mat-icon",1),t._uU(2," menu "),t.qZA(),t.qZA()),2&c&&(t.xp6(1),t.Q6J("matBadgeHidden",0==h.badge))},directives:[d.lW,r.Hw,p.k],styles:["mat-menu-button .mat-badge-content{font-weight:500!important;font-family:Material Icons}\n"],encapsulation:2}),l})()},9597:(O,_,e)=>{e.r(_),e.d(_,{AccountPageModule:()=>k});var t=e(5861),o=e(3075),d=e(2340),r=e(5e3),p=e(649),b=e(8939),l=e(4602),A=e(7635),c=e(4594),h=e(5277),Z=e(9808),I=e(8863),M=e(7093),U=e(5601),v=e(7322),P=e(8833),x=e(7423),m=e(6696),f=e(5899);function i(s,g){1&s&&r._UZ(0,"mat-progress-bar",14)}function u(s,g){if(1&s&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&s){const a=r.oxw();r.xp6(1),r.hij(" ",a.errors.name.first," ")}}function T(s,g){if(1&s&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&s){const a=r.oxw();r.xp6(1),r.hij(" ",a.errors.name.last," ")}}function B(s,g){if(1&s&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&s){const a=r.oxw();r.xp6(1),r.hij(" ",a.errors.username," ")}}const E=function(s,g){return{userId:s,appId:g}};let D=(()=>{class s{constructor(a,n,y,R){this.toast=a,this.config=n,this.service=y,this.localstorage=R,this.form=new o.cw({name:new o.cw({last:new o.NI(null,[o.kI.required]),first:new o.NI(null,[o.kI.required])}),picture:new o.NI(null,[o.kI.required]),username:new o.NI(null,[o.kI.required])}),this.appId=d.N.appId,this.errors={name:{last:"",first:""},picture:"",username:""},this.loading=!1,this.observers={}}submit(){var a=this;return(0,t.Z)(function*(){a.loading=!0,(yield a.service.update({name:{last:a.form.value.name.last,first:a.form.value.name.first},picture:a.form.value.picture,username:a.form.value.username})).ok?a.toast.show("Account was updated!"):a.toast.show("Issue updating account!"),a.loading=!1})()}ngOnInit(){var a=this;this.observers.user=this.service.user.subscribe(n=>{void 0!==n&&null!=n&&(this.form.controls.picture.setValue(n.picture),this.form.controls.username.setValue(n.username),void 0!==n.name&&null!=n.name&&(this.form.controls.name.controls.last.setValue(n.name.last),this.form.controls.name.controls.first.setValue(n.name.first)))}),this.observers.loaded=this.config.loaded.subscribe(function(){var n=(0,t.Z)(function*(y){y&&(a.appId=d.N.appId,a.userId=a.localstorage.get("userId"))});return function(y){return n.apply(this,arguments)}}())}ngOnDestroy(){var a,n;null===(a=this.observers.user)||void 0===a||a.unsubscribe(),null===(n=this.observers.loaded)||void 0===n||n.unsubscribe()}}return s.\u0275fac=function(a){return new(a||s)(r.Y36(p.k),r.Y36(b.E),r.Y36(l.B),r.Y36(A.n))},s.\u0275cmp=r.Xpm({type:s,selectors:[["account-page"]],decls:34,vars:10,consts:[["for","account"],["mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center flex-start"],["fxFlex","60","fxFlex.lg","70","fxFlex.md","80","fxFlex.sm","90","fxFlex.xs","100",3,"formGroup","ngSubmit"],["formControlName","picture",3,"required"],["formGroupName","name"],["appearance","outline"],["matInput","","type","text","name","first name","placeholder","first name","formControlName","first","required",""],[4,"ngIf"],["matInput","","type","text","name","last name","placeholder","last name","formControlName","last","required",""],["matInput","","type","text","name","username","placeholder","username","formControlName","username","required",""],["type","submit","mat-flat-button","","color","primary"],["type","button","mat-flat-button","","color","warn","routerLink","remove"],["type","button","mat-stroked-button","","color","primary","routerLink","/change-password",3,"queryParams"],["mode","indeterminate"]],template:function(a,n){1&a&&(r.TgZ(0,"mat-toolbar"),r._UZ(1,"mat-menu-button"),r.TgZ(2,"label",0),r._uU(3," Account "),r.qZA(),r.qZA(),r.YNc(4,i,1,0,"mat-progress-bar",1),r.TgZ(5,"mat-content",2),r.TgZ(6,"form",3),r.NdJ("ngSubmit",function(){return!n.loading&&!n.form.invalid&&n.submit()}),r.TgZ(7,"mat-file",4),r.TgZ(8,"mat-label"),r._uU(9," Profile Image "),r.TgZ(10,"span"),r._uU(11,"*"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"section",5),r.TgZ(13,"mat-form-field",6),r.TgZ(14,"mat-label"),r._uU(15," First Name "),r.qZA(),r._UZ(16,"input",7),r.YNc(17,u,2,1,"mat-error",8),r.qZA(),r.TgZ(18,"mat-form-field",6),r.TgZ(19,"mat-label"),r._uU(20," Last Name "),r.qZA(),r._UZ(21,"input",9),r.YNc(22,T,2,1,"mat-error",8),r.qZA(),r.qZA(),r.TgZ(23,"mat-form-field",6),r.TgZ(24,"mat-label"),r._uU(25," Username "),r.qZA(),r._UZ(26,"input",10),r.YNc(27,B,2,1,"mat-error",8),r.qZA(),r.TgZ(28,"button",11),r._uU(29," Update "),r.qZA(),r.TgZ(30,"button",12),r._uU(31," Remove Account "),r.qZA(),r.TgZ(32,"button",13),r._uU(33," Change Password "),r.qZA(),r.qZA(),r.qZA()),2&a&&(r.xp6(4),r.Q6J("ngIf",n.loading),r.xp6(2),r.Q6J("formGroup",n.form),r.xp6(1),r.Q6J("required",!0),r.xp6(10),r.Q6J("ngIf",n.errors.name.first),r.xp6(5),r.Q6J("ngIf",n.errors.name.last),r.xp6(5),r.Q6J("ngIf",n.errors.username),r.xp6(5),r.Q6J("queryParams",r.WLB(7,E,n.userId,n.appId)))},directives:[c.Ye,h.v,Z.O5,I.s,M.xw,M.Wh,o._Y,o.JL,M.yH,o.sg,U.u,o.JJ,o.u,o.Q7,v.hX,o.x0,v.KE,P.Nt,o.Fj,x.lW,m.rH,f.pW,v.TO],styles:["button[_ngcontent-%COMP%]{margin-bottom:16px}"]}),s})();var C=e(2109),w=e(4080);function F(s,g){1&s&&r._UZ(0,"mat-progress-bar",11)}function N(s,g){if(1&s&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&s){const a=r.oxw();r.xp6(1),r.hij(" ",a.errors.password," ")}}let L=(()=>{class s{constructor(a,n,y){this.toast=a,this.service=n,this.formerror=y,this.form=new o.cw({password:new o.NI("",[o.kI.required])}),this.errors={password:""},this.loading=!1,this.observers={}}submit(){var a=this;return(0,t.Z)(function*(){a.loading=!0,a.form.disable();const n=yield a.service.delete({password:a.form.value.password});a.form.enable(),a.loading=!1,n.ok?(a.service.signout(),a.toast.show("Account was removed!")):a.toast.show("There was an issue removing account!")})()}ngOnInit(){this.observers.form=this.form.valueChanges.subscribe(a=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}ngOnDestroy(){var a;null===(a=this.observers.close)||void 0===a||a.unsubscribe()}}return s.\u0275fac=function(a){return new(a||s)(r.Y36(p.k),r.Y36(l.B),r.Y36(C.J))},s.\u0275cmp=r.Xpm({type:s,selectors:[["account-remove-page"]],decls:19,vars:3,consts:[["for","remove account"],["mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center flex-start"],["fxFlex","60","fxFlex.lg","70","fxFlex.md","80","fxFlex.sm","90","fxFlex.xs","100",3,"formGroup","ngSubmit"],[1,"notice"],["appearance","outline"],["matInput","","type","password","name","confirm password","placeholder","confirm password","formControlName","password","required",""],[4,"ngIf"],["type","submit",2,"display","none"],["button",""],["type","button","mat-flat-button","","color","warn",3,"click"],["mode","indeterminate"]],template:function(a,n){if(1&a){const y=r.EpF();r.TgZ(0,"mat-toolbar"),r._UZ(1,"mat-menu-button"),r.TgZ(2,"label",0),r._uU(3," Remove Account "),r.qZA(),r.qZA(),r.YNc(4,F,1,0,"mat-progress-bar",1),r.TgZ(5,"mat-content",2),r.TgZ(6,"form",3),r.NdJ("ngSubmit",function(){return!n.loading&&!n.form.invalid&&n.submit()}),r.TgZ(7,"p",4),r._uU(8," The removal of your account will mean you can no longer sign in to the platform. This does not remove the assets you have created in the time you have had an account with us and if you wish to signup again your assets will be available to you once again! "),r.qZA(),r.TgZ(9,"mat-form-field",5),r.TgZ(10,"mat-label"),r._uU(11," Confirm Password "),r.qZA(),r._UZ(12,"input",6),r.YNc(13,N,2,1,"mat-error",7),r.qZA(),r._UZ(14,"button",8,9),r.qZA(),r.qZA(),r.TgZ(16,"mat-footer"),r.TgZ(17,"button",10),r.NdJ("click",function(){return r.CHM(y),r.MAs(15).click()}),r._uU(18," Confirm & Remove "),r.qZA(),r.qZA()}2&a&&(r.xp6(4),r.Q6J("ngIf",n.loading),r.xp6(2),r.Q6J("formGroup",n.form),r.xp6(7),r.Q6J("ngIf",n.errors.password))},directives:[c.Ye,h.v,Z.O5,I.s,M.xw,M.Wh,o._Y,o.JL,M.yH,o.sg,v.KE,v.hX,P.Nt,o.Fj,o.JJ,o.u,o.Q7,w.A,x.lW,f.pW,v.TO],styles:[""]}),s})();var S=e(8248),W=e(2217),J=e(2155),Y=e(4274),X=e(5612);const K=[{path:"",component:D},{path:"remove",component:L}];let k=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({imports:[[o.u5,Z.ez,S._,P.c,W.l,x.ot,c.g0,Y.X,J.o9,v.lN,o.UX,X.G,f.Cv,m.Bz.forChild(K)]]}),s})()},5899:(O,_,e)=>{e.d(_,{pW:()=>v,Cv:()=>x});var t=e(5e3),o=e(9808),d=e(508),r=e(3191),p=e(6360),b=e(727),l=e(4968),A=e(9300);const c=["primaryValueBar"],h=(0,d.pj)(class{constructor(m){this._elementRef=m}},"primary"),Z=new t.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const m=(0,t.f3M)(o.K0),f=m?m.location:null;return{getPathname:()=>f?f.pathname+f.search:""}}}),M=new t.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let U=0,v=(()=>{class m extends h{constructor(i,u,T,B,E){super(i),this._ngZone=u,this._animationMode=T,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new t.vpe,this._animationEndSubscription=b.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+U++;const D=B?B.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${D}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===T,E&&(E.color&&(this.color=this.defaultColor=E.color),this.mode=E.mode||this.mode)}get value(){return this._value}set value(i){this._value=P((0,r.su)(i)||0)}get bufferValue(){return this._bufferValue}set bufferValue(i){this._bufferValue=P(i||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const i=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,l.R)(i,"transitionend").pipe((0,A.h)(u=>u.target===i)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return m.\u0275fac=function(i){return new(i||m)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(p.Qb,8),t.Y36(Z,8),t.Y36(M,8))},m.\u0275cmp=t.Xpm({type:m,selectors:[["mat-progress-bar"]],viewQuery:function(i,u){if(1&i&&t.Gf(c,5),2&i){let T;t.iGM(T=t.CRH())&&(u._primaryValueBar=T.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(i,u){2&i&&(t.uIk("aria-valuenow","indeterminate"===u.mode||"query"===u.mode?null:u.value)("mode",u.mode),t.ekj("_mat-animation-noopable",u._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[t.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(i,u){1&i&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1),t.TgZ(2,"defs"),t.TgZ(3,"pattern",2),t._UZ(4,"circle",3),t.qZA(),t.qZA(),t._UZ(5,"rect",4),t.qZA(),t.kcU(),t._UZ(6,"div",5),t._UZ(7,"div",6,7),t._UZ(9,"div",8),t.qZA()),2&i&&(t.xp6(3),t.Q6J("id",u.progressbarId),t.xp6(2),t.uIk("fill",u._rectangleFillValue),t.xp6(1),t.Q6J("ngStyle",u._bufferTransform()),t.xp6(1),t.Q6J("ngStyle",u._primaryTransform()))},directives:[o.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),m})();function P(m,f=0,i=100){return Math.max(f,Math.min(i,m))}let x=(()=>{class m{}return m.\u0275fac=function(i){return new(i||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[[o.ez,d.BQ],d.BQ]}),m})()}}]);