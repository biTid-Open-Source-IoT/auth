function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4+IK":function(e,r,t){"use strict";t.r(r),t.d(r,"AccountModule",(function(){return A}));var n=t("ofXK"),o=t("NFeN"),a=t("STbY"),i=t("qFsG"),s=t("d3UM"),c=t("bTqV"),u=t("/t3+"),m=t("Rxhi"),b=t("kmnG"),l=t("mrSG"),f=t("3Pt+"),p=t("fXoL"),d=t("d3yR"),h=t("9ZKQ"),g=t("IRyT"),v=t("O5Os"),w=t("tyNb"),y=t("bv9b");function C(e,r){1&e&&p.Pb(0,"mat-progress-bar",14)}function T(e,r){if(1&e&&(p.Ub(0,"mat-error"),p.yc(1),p.Tb()),2&e){var t=p.gc();p.Cb(1),p.Ac(" ",t.errors.username," ")}}var x,U=((x=function(){function e(r,t,n){_classCallCheck(this,e),this.menu=r,this.toast=t,this.service=n,this.form=new f.d({picture:new f.b("",[f.p.required]),username:new f.b("",[f.p.required])}),this.errors={picture:"",username:""},this.subscriptions={}}return _createClass(e,[{key:"submit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.service.update({picture:this.form.value.picture,userName:this.form.value.username});case 3:r=e.sent,this.loading=!1,this.toast.success(r.ok?"account was updated!":"issue updating account!");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions.user=this.service.user.subscribe((function(r){e.form.controls.picture.setValue(r.picture),e.form.controls.username.setValue(r.userName)}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.user.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||x)(p.Ob(d.a),p.Ob(h.a),p.Ob(g.a))},x.\u0275cmp=p.Ib({type:x,selectors:[["app-account-page"]],decls:21,vars:5,consts:[["color","primary"],["mat-icon-button","",1,"menu-toggle",3,"click"],[1,"page-label","spacer"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"page-body"],[3,"formGroup","ngSubmit"],["label","picture",3,"value","required"],["appearance","outline"],["text-uppercase",""],["matInput","","type","text","name","username","placeholder","username","formControlName","username","required",""],[4,"ngIf"],["type","submit","mat-flat-button","","color","primary"],["type","button","mat-flat-button","","color","accent","margin-top","","routerLink","change-password"],["type","button","mat-flat-button","","color","warn","margin-top","","routerLink","remove-account"],["mode","indeterminate","color","accent"]],template:function(e,r){1&e&&(p.Ub(0,"mat-toolbar",0),p.Ub(1,"button",1),p.cc("click",(function(){return r.menu.toggle()})),p.Ub(2,"mat-icon"),p.yc(3," menu "),p.Tb(),p.Tb(),p.Ub(4,"div",2),p.yc(5," account "),p.Tb(),p.Tb(),p.xc(6,C,1,0,"mat-progress-bar",3),p.Ub(7,"div",4),p.Ub(8,"form",5),p.cc("ngSubmit",(function(){return!r.form.invalid&&r.submit()})),p.Pb(9,"app-image-upload",6),p.Ub(10,"mat-form-field",7),p.Ub(11,"mat-label",8),p.yc(12," username "),p.Tb(),p.Pb(13,"input",9),p.xc(14,T,2,1,"mat-error",10),p.Tb(),p.Ub(15,"button",11),p.yc(16," update "),p.Tb(),p.Ub(17,"button",12),p.yc(18," change password "),p.Tb(),p.Ub(19,"button",13),p.yc(20," remove account "),p.Tb(),p.Tb(),p.Tb()),2&e&&(p.Cb(6),p.nc("ngIf",r.loading),p.Cb(2),p.nc("formGroup",r.form),p.Cb(1),p.nc("value",r.form.value.picture)("required",!r.form.value.picture||r.errors.picture),p.Cb(5),p.nc("ngIf",r.errors.username))},directives:[u.a,c.a,o.a,n.l,f.q,f.j,f.e,v.a,b.c,b.g,i.a,f.a,f.i,f.c,f.o,w.c,y.a,b.b],styles:["form[_ngcontent-%COMP%]{width:400px;margin:auto}@media screen and (max-width:420px){form[_ngcontent-%COMP%]{width:calc(100% - 20px)}}"]}),x),k=t("dWDE");function O(e,r){1&e&&p.Pb(0,"mat-progress-bar",11)}function I(e,r){if(1&e&&(p.Ub(0,"mat-error"),p.yc(1),p.Tb()),2&e){var t=p.gc();p.Cb(1),p.Ac(" ",t.errors.password," ")}}function P(e,r){1&e&&p.Pb(0,"mat-progress-bar",12)}function _(e,r){if(1&e&&(p.Ub(0,"mat-error"),p.yc(1),p.Tb()),2&e){var t=p.gc();p.Cb(1),p.Ac(" ",t.errors.old," ")}}function q(e,r){if(1&e&&(p.Ub(0,"mat-error"),p.yc(1),p.Tb()),2&e){var t=p.gc();p.Cb(1),p.Ac(" ",t.errors.new," ")}}function M(e,r){if(1&e&&(p.Ub(0,"mat-error"),p.yc(1),p.Tb()),2&e){var t=p.gc();p.Cb(1),p.Cc(" ",t.errors.confirm," ",t.errors.confirm&&t.form.value.new!=t.form.value.confirm?" & ":""," ",t.form.value.new!=t.form.value.confirm?"Passwords do not match":""," ")}}var N,j,G,R,S=[{path:"",component:U},{path:"remove-account",component:(j=function(){function e(r,t,n,o){_classCallCheck(this,e),this.toast=r,this.router=t,this.service=n,this.formerror=o,this.form=new f.d({password:new f.b("",[f.p.required])}),this.errors={password:""},this.subscriptions={}}return _createClass(e,[{key:"submit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.form.disable(),e.next=3,this.service.removeaccount({password:this.form.value.password});case 3:r=e.sent,this.form.enable(),this.loading=!1,r.ok?(this.service.logout(),this.toast.success("account was removed!")):this.toast.error("there was an issue removing account!");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions.form=this.form.valueChanges.subscribe((function(r){e.errors=e.formerror.validateForm(e.form,e.errors,!0)}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.form.unsubscribe()}}]),e}(),j.\u0275fac=function(e){return new(e||j)(p.Ob(h.a),p.Ob(w.b),p.Ob(g.a),p.Ob(k.a))},j.\u0275cmp=p.Ib({type:j,selectors:[["app-remove-account"]],decls:17,vars:3,consts:[["color","primary"],[1,"page-label","spacer"],["mat-icon-button","","routerLink","/account"],["mode","indeterminate","color","accent",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"notice"],["appearance","outline"],["text-uppercase",""],["matInput","","type","password","name","password","placeholder","password","formControlName","password","required",""],[4,"ngIf"],["type","submit","mat-flat-button","","color","warn"],["mode","indeterminate","color","accent"]],template:function(e,r){1&e&&(p.Ub(0,"mat-toolbar",0),p.Ub(1,"div",1),p.yc(2," remove account "),p.Tb(),p.Ub(3,"button",2),p.Ub(4,"mat-icon"),p.yc(5," close "),p.Tb(),p.Tb(),p.Tb(),p.xc(6,O,1,0,"mat-progress-bar",3),p.Ub(7,"form",4),p.cc("ngSubmit",(function(){return!r.form.invalid&&r.submit()})),p.Ub(8,"div",5),p.yc(9," The removal of your account will mean you can no longer sign in to the bitid platform. This does not remove the assets you have created in the time you have had an account with us and if you wish to signup again your assets will be available to you once again! "),p.Tb(),p.Ub(10,"mat-form-field",6),p.Ub(11,"mat-label",7),p.yc(12," password "),p.Tb(),p.Pb(13,"input",8),p.xc(14,I,2,1,"mat-error",9),p.Tb(),p.Ub(15,"button",10),p.yc(16," confirm & remove "),p.Tb(),p.Tb()),2&e&&(p.Cb(6),p.nc("ngIf",r.loading),p.Cb(1),p.nc("formGroup",r.form),p.Cb(7),p.nc("ngIf",r.errors.password))},directives:[u.a,c.a,w.c,o.a,n.l,f.q,f.j,f.e,b.c,b.g,i.a,f.a,f.i,f.c,f.o,y.a,b.b],styles:["form[_ngcontent-%COMP%]{width:400px;margin:auto}.notice[_ngcontent-%COMP%]{padding:0 5px;font-size:12px;text-align:justify;line-height:12px;border-left:4px solid #2196f3;margin-bottom:15px;text-transform:uppercase}@media screen and (max-width:420px){form[_ngcontent-%COMP%]{width:calc(100% - 20px)}}"]}),j)},{path:"change-password",component:(N=function(){function e(r,t,n,o){_classCallCheck(this,e),this.toast=r,this.router=t,this.service=n,this.formerror=o,this.form=new f.d({old:new f.b("",[f.p.required]),new:new f.b("",[f.p.required]),confirm:new f.b("",[f.p.required])}),this.errors={old:"",new:"",confirm:""},this.subscriptions={}}return _createClass(e,[{key:"submit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.form.disable(),e.next=3,this.service.changepassword({confirm:this.form.value.confirm,passwordOld:this.form.value.old,passwordNew:this.form.value.new});case 3:r=e.sent,this.form.enable(),this.loading=!1,r.ok?(this.router.navigate(["/account"]),this.toast.success("password was changed!")):this.toast.error("there was an issue changing password!");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions.form=this.form.valueChanges.subscribe((function(r){e.errors=e.formerror.validateForm(e.form,e.errors,!0)}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.form.unsubscribe()}}]),e}(),N.\u0275fac=function(e){return new(e||N)(p.Ob(h.a),p.Ob(w.b),p.Ob(g.a),p.Ob(k.a))},N.\u0275cmp=p.Ib({type:N,selectors:[["app-change-password"]],decls:25,vars:5,consts:[["color","primary"],[1,"page-label","spacer"],["mat-icon-button","","routerLink","/account"],["mode","indeterminate","color","accent",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["text-uppercase",""],["matInput","","type","password","name","old","placeholder","old","formControlName","old","required",""],[4,"ngIf"],["matInput","","type","password","name","new","placeholder","new","formControlName","new","required",""],["matInput","","type","password","name","confirm","placeholder","confirm","formControlName","confirm","required",""],["type","submit","mat-flat-button","","color","primary"],["mode","indeterminate","color","accent"]],template:function(e,r){1&e&&(p.Ub(0,"mat-toolbar",0),p.Ub(1,"div",1),p.yc(2," change password "),p.Tb(),p.Ub(3,"button",2),p.Ub(4,"mat-icon"),p.yc(5," close "),p.Tb(),p.Tb(),p.Tb(),p.xc(6,P,1,0,"mat-progress-bar",3),p.Ub(7,"form",4),p.cc("ngSubmit",(function(){return!r.form.invalid&&r.form.value.new==r.form.value.confirm&&r.submit()})),p.Ub(8,"mat-form-field",5),p.Ub(9,"mat-label",6),p.yc(10," old "),p.Tb(),p.Pb(11,"input",7),p.xc(12,_,2,1,"mat-error",8),p.Tb(),p.Ub(13,"mat-form-field",5),p.Ub(14,"mat-label",6),p.yc(15," new "),p.Tb(),p.Pb(16,"input",9),p.xc(17,q,2,1,"mat-error",8),p.Tb(),p.Ub(18,"mat-form-field",5),p.Ub(19,"mat-label",6),p.yc(20," confirm "),p.Tb(),p.Pb(21,"input",10),p.xc(22,M,2,3,"mat-error",8),p.Tb(),p.Ub(23,"button",11),p.yc(24," submit "),p.Tb(),p.Tb()),2&e&&(p.Cb(6),p.nc("ngIf",r.loading),p.Cb(1),p.nc("formGroup",r.form),p.Cb(5),p.nc("ngIf",r.errors.old),p.Cb(5),p.nc("ngIf",r.errors.new),p.Cb(5),p.nc("ngIf",r.errors.confirm||r.form.value.new!=r.form.value.confirm))},directives:[u.a,c.a,w.c,o.a,n.l,f.q,f.j,f.e,b.c,b.g,i.a,f.a,f.i,f.c,f.o,y.a,b.b],styles:["form[_ngcontent-%COMP%]{width:400px;margin:auto}@media screen and (max-width:420px){form[_ngcontent-%COMP%]{width:calc(100% - 20px)}}"]}),N)}],L=((R=function e(){_classCallCheck(this,e)}).\u0275mod=p.Mb({type:R}),R.\u0275inj=p.Lb({factory:function(e){return new(e||R)},imports:[[w.e.forChild(S)],w.e]}),R),A=((G=function e(){_classCallCheck(this,e)}).\u0275mod=p.Mb({type:G}),G.\u0275inj=p.Lb({factory:function(e){return new(e||G)},imports:[[f.f,n.c,o.b,a.a,i.b,s.b,c.b,u.b,m.a,b.e,f.n,L,y.b]]}),G)}}]);